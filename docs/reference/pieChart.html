<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a pie chart — pieChart • ddplot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a pie chart — pieChart"><meta property="og:description" content="Create a pie chart"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/r2d3-render-0.1.0/r2d3-render.js"></script><script src="libs/webcomponents-2.0.0/webcomponents.js"></script><script src="libs/r2d3-binding-0.2.6/r2d3.js"></script><script src="libs/d3v6-6.2.0/d3.min.js"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ddplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Start.html">Getting Started</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/feddelegrand7/ddplot/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a pie chart</h1>
    <small class="dont-index">Source: <a href="https://github.com/feddelegrand7/ddplot/blob/HEAD/R/piechart.R" class="external-link"><code>R/piechart.R</code></a></small>
    <div class="hidden name"><code>pieChart.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a pie chart</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pieChart</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  <span class="va">label</span>,</span>
<span>  colorCategory <span class="op">=</span> <span class="st">"Paired"</span>,</span>
<span>  innerRadius <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  outerRadius <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  padRadius <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  padAngle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cornerRadius <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  labelFont <span class="op">=</span> <span class="st">"sans-serif"</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  titleFontSize <span class="op">=</span> <span class="fl">22</span>,</span>
<span>  font <span class="op">=</span> <span class="st">"Verdana, Geneva, Tahoma, sans-serif"</span>,</span>
<span>  bgcol <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  opacity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  labelHeight <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data frame to consider.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>The numeric variable to consider.</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>The labeling variable to consider.</p></dd>


<dt id="arg-colorcategory">colorCategory<a class="anchor" aria-label="anchor" href="#arg-colorcategory"></a></dt>
<dd><p>A D3 categorical color scheme, you can find more
here &lt;https://github.com/d3/d3-scale-chromatic#categorical&gt;. Defaults to 'Paired'</p></dd>


<dt id="arg-innerradius">innerRadius<a class="anchor" aria-label="anchor" href="#arg-innerradius"></a></dt>
<dd><p>The size of the inner radius of the pie.
Defaults to 0. Set the inner radius to a higher value to plot
a donut chart.</p></dd>


<dt id="arg-outerradius">outerRadius<a class="anchor" aria-label="anchor" href="#arg-outerradius"></a></dt>
<dd><p>The size of the outer radius of the pie.</p></dd>


<dt id="arg-padradius">padRadius<a class="anchor" aria-label="anchor" href="#arg-padradius"></a></dt>
<dd><p>From the D3 official documentation, The pad radius compute
the fixed linear distance separating adjacent arcs, defined as padRadius * padAngle.</p></dd>


<dt id="arg-padangle">padAngle<a class="anchor" aria-label="anchor" href="#arg-padangle"></a></dt>
<dd><p>Optional. From the D3 official documentation, the padAngle is used to set the
padding angle between consecutive arcs.</p></dd>


<dt id="arg-cornerradius">cornerRadius<a class="anchor" aria-label="anchor" href="#arg-cornerradius"></a></dt>
<dd><p>From the D3 official documentation, the value of the corner radius for rounded corners.
If the corner radius is greater than zero, the corners of the arc are rounded
using circles of the given radius. Defaults to 0.</p></dd>


<dt id="arg-labelfont">labelFont<a class="anchor" aria-label="anchor" href="#arg-labelfont"></a></dt>
<dd><p>The font family of the legend. Defaults to 'sans-serif'.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Optional. The title of the plot.</p></dd>


<dt id="arg-titlefontsize">titleFontSize<a class="anchor" aria-label="anchor" href="#arg-titlefontsize"></a></dt>
<dd><p>The font size of the plot title. Defaults to 22.</p></dd>


<dt id="arg-font">font<a class="anchor" aria-label="anchor" href="#arg-font"></a></dt>
<dd><p>The font family to consider for the titles.
Defaults to "Verdana, Geneva, Tahoma, sans-serif".</p></dd>


<dt id="arg-bgcol">bgcol<a class="anchor" aria-label="anchor" href="#arg-bgcol"></a></dt>
<dd><p>The background color of the SVG. Defaults to "white".</p></dd>


<dt id="arg-opacity">opacity<a class="anchor" aria-label="anchor" href="#arg-opacity"></a></dt>
<dd><p>The color opacity of the pie (from 0 to 1). Defaults to 1.</p></dd>


<dt id="arg-labelheight">labelHeight<a class="anchor" aria-label="anchor" href="#arg-labelheight"></a></dt>
<dd><p>The height of the legend. Defaults to 18.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>Optional. The width of the SVG output.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>Optional. The height of the SVG output.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A SVG pie chart</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># needed for the starwars data frame</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># starwars is part of the dplyr data frame</span></span></span>
<span class="r-in"><span><span class="va">mini_starwars</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="va">mass</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># getting 5 random values</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">pieChart</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mini_starwars</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="st">"mass"</span>,</span></span>
<span class="r-in"><span>  label <span class="op">=</span> <span class="st">"name"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<div id="htmlwidget-21c7483268bafca56cec" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"data":{"name":["Poggle the Lesser","Lando Calrissian","Chewbacca","Dud Bolt","Ben Quadinaros"],"height":[183,177,228,94,163],"mass":[80,79,112,45,65],"hair_color":["none","black","brown","none","none"],"skin_color":["green","dark","unknown","blue, grey","grey, green, yellow"],"eye_color":["yellow","brown","blue","yellow","orange"],"birth_year":[null,31,200,null,null],"sex":["male","male","male","male","male"],"gender":["masculine","masculine","masculine","masculine","masculine"],"homeworld":["Geonosis","Socorro","Kashyyyk","Vulpter","Tund"],"species":["Geonosian","Human","Wookiee","Vulptereen","Toong"],"films":[["Attack of the Clones","Revenge of the Sith"],["The Empire Strikes Back","Return of the Jedi"],["A New Hope","The Empire Strikes Back","Return of the Jedi","Revenge of the Sith","The Force Awakens"],"The Phantom Menace","The Phantom Menace"],"vehicles":[[],[],"AT-ST",[],[]],"starships":[[],"Millennium Falcon",["Millennium Falcon","Imperial shuttle"],[],[]]},"type":"data.frame","container":"svg","options":{"value":"mass","label":"name","title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"titleFontSize":22,"bgcol":"white","opacity":1,"colorCategory":"Paired","innerRadius":0,"outerRadius":"auto","labelHeight":18,"padRadius":0,"padAngle":null,"cornerRadius":0,"labelFont":"sans-serif"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /private/var/folders/j0/00mb0qsn01v_q9tx3_bck5bc0000gn/T/RtmpN6QOsy/temp_libpathee671204c73/ddplot/d3/scatterplot/piechart.js */\nlet margin = 20;\n\nlet pie = d3.pie().value((d) => d[options.value]);\n\nlet radius = Math.min(width, height) / 2 - margin;\n\nif (options.outerRadius != \"auto\") {\n  radius = options.outerRadius;\n}\n\nlet pieData = pie(data);\n\nlet colorCategory = \"scheme\" + options.colorCategory;\n\nlet colorSeq = d3.scaleOrdinal(d3[colorCategory]);\n\nlet arc = d3\n  .arc()\n  .innerRadius(options.innerRadius)\n  .outerRadius(radius)\n  .padRadius(options.padRadius)\n  .padAngle(options.padAngle)\n  .cornerRadius(options.cornerRadius);\n\nlet labelHeight = options.labelHeight;\n\nsvg\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius},${radius})`)\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"path\")\n  .attr(\"d\", arc)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]))\n  .attr(\"opacity\", options.opacity)\n  .append('title')\n  .text(d => d.data[options.value])\n\nconst legend = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius * 2 + 20},0)`);\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"rect\")\n  .attr(\"y\", (d) => 5 + labelHeight * d.index * 1.8)\n  .attr(\"width\", labelHeight)\n  .attr(\"height\", labelHeight)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]));\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"text\")\n  .text((d) => d.data[options.label])\n  .attr(\"x\", labelHeight * 1.2)\n  .attr(\"y\", (d) => labelHeight * d.index * 1.8 + labelHeight)\n  .style(\"font-family\", options.labelFont)\n  .style(\"font-size\", `${labelHeight}px`);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", radius)\n  .attr(\"y\", radius * 2 + 30)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Mohamed El Fodil Ihaddaden.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

