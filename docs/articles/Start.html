<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • ddplot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="ddplot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ddplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Start.html">Getting Started</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/feddelegrand7/ddplot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Start_files/header-attrs-2.8/header-attrs.js"></script><script src="Start_files/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="Start_files/r2d3-render-0.1.0/r2d3-render.js"></script><script src="Start_files/webcomponents-2.0.0/webcomponents.js"></script><script src="Start_files/r2d3-binding-0.2.5/r2d3.js"></script><script src="Start_files/d3v6-6.2.0/d3.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/feddelegrand7/ddplot/blob/master/vignettes/Start.Rmd"><code>vignettes/Start.Rmd</code></a></small>
      <div class="hidden name"><code>Start.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/feddelegrand7/ddplot">ddplot</a></span><span class="op">)</span></code></pre></div>
<p><code>D3.js</code> is a famous JavaScript library that allows one to create extremely flexible SVG graphics however <code>D3</code> has (at least according to me) a pretty steep learning curve. Further, in order to understand some core concepts, one need to have some basics in <code>HTML</code>, <code>CSS</code> and <code>JavaScript</code>. <code>ddplot</code> aims to simply the process using a set of functions that render several graphics using a simple <code>R</code> API. Finally, <code>ddplot</code> is built upon the amazing <code>r2d3</code> package which makes it a breeze to interface <code>D3.js</code> with <code>R</code>, so a big thanks to the developers.</p>
<div id="scatterplot" class="section level1">
<h1 class="hasAnchor">
<a href="#scatterplot" class="anchor"></a><code>scatterPlot()</code>
</h1>
<p>Let’s work with the <code>mpg</code> data frame from the <code>ggplot2</code> package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span> <span class="co"># needed for the mpg data frame</span>

<span class="fu"><a href="../reference/scatterPlot.html">scatterPlot</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">mpg</span>,
  x <span class="op">=</span> <span class="st">"hwy"</span>,
  y <span class="op">=</span> <span class="st">"cty"</span>,
  xtitle <span class="op">=</span> <span class="st">"hwy variable"</span>,
  ytitle <span class="op">=</span> <span class="st">"cty variable"</span>,
  title <span class="op">=</span> <span class="st">"cty and hwy relationship"</span>,
  titleFontSize <span class="op">=</span> <span class="fl">20</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-4f718e2d894932066eeb" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-4f718e2d894932066eeb">{"x":{"data":{"manufacturer":["audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","honda","honda","honda","honda","honda","honda","honda","honda","honda","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","jeep","jeep","jeep","jeep","jeep","jeep","jeep","jeep","land rover","land rover","land rover","land rover","lincoln","lincoln","lincoln","mercury","mercury","mercury","mercury","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","pontiac","pontiac","pontiac","pontiac","pontiac","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen"],"model":["a4","a4","a4","a4","a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","expedition 2wd","expedition 2wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","civic","civic","civic","civic","civic","sonata","sonata","sonata","sonata","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","range rover","range rover","navigator 2wd","navigator 2wd","navigator 2wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","altima","altima","maxima","maxima","maxima","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","grand prix","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","camry","camry","camry","camry","camry","camry","camry","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","corolla","corolla","corolla","corolla","corolla","land cruiser wagon 4wd","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","gti","gti","gti","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","new beetle","new beetle","new beetle","new beetle","new beetle","new beetle","passat","passat","passat","passat","passat","passat","passat"],"displ":[1.8,1.8,2,2,2.8,2.8,3.1,1.8,1.8,2,2,2.8,2.8,3.1,3.1,2.8,3.1,4.2,5.3,5.3,5.3,5.7,6,5.7,5.7,6.2,6.2,7,5.3,5.3,5.7,6.5,2.4,2.4,3.1,3.5,3.6,2.4,3,3.3,3.3,3.3,3.3,3.3,3.8,3.8,3.8,4,3.7,3.7,3.9,3.9,4.7,4.7,4.7,5.2,5.2,3.9,4.7,4.7,4.7,5.2,5.7,5.9,4.7,4.7,4.7,4.7,4.7,4.7,5.2,5.2,5.7,5.9,4.6,5.4,5.4,4,4,4,4,4.6,5,4.2,4.2,4.6,4.6,4.6,5.4,5.4,3.8,3.8,4,4,4.6,4.6,4.6,4.6,5.4,1.6,1.6,1.6,1.6,1.6,1.8,1.8,1.8,2,2.4,2.4,2.4,2.4,2.5,2.5,3.3,2,2,2,2,2.7,2.7,2.7,3,3.7,4,4.7,4.7,4.7,5.7,6.1,4,4.2,4.4,4.6,5.4,5.4,5.4,4,4,4.6,5,2.4,2.4,2.5,2.5,3.5,3.5,3,3,3.5,3.3,3.3,4,5.6,3.1,3.8,3.8,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.2,2.2,2.5,2.5,2.5,2.5,2.5,2.5,2.7,2.7,3.4,3.4,4,4.7,2.2,2.2,2.4,2.4,3,3,3.5,2.2,2.2,2.4,2.4,3,3,3.3,1.8,1.8,1.8,1.8,1.8,4.7,5.7,2.7,2.7,2.7,3.4,3.4,4,4,2,2,2,2,2.8,1.9,2,2,2,2,2.5,2.5,2.8,2.8,1.9,1.9,2,2,2.5,2.5,1.8,1.8,2,2,2.8,2.8,3.6],"year":[1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,2008,2008,2008,2008,2008,1999,2008,1999,1999,2008,2008,2008,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,2008,2008,2008,1999,2008,1999,2008,2008,2008,2008,2008,2008,1999,1999,2008,1999,1999,1999,2008,1999,1999,1999,2008,2008,1999,1999,1999,1999,1999,2008,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,2008,2008,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,1999,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,1999,2008,2008,1999,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008],"cyl":[4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,4,4,6,6,6,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,8,8,6,6,8,8,8,8,8,6,6,6,6,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,6,6,8,8,4,4,4,4,6,6,6,6,6,6,6,6,8,6,6,6,6,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,4,4,4,4,6,6,6,4,4,4,4,6,6,6,4,4,4,4,4,8,8,4,4,4,6,6,6,6,4,4,4,4,6,4,4,4,4,4,5,5,6,6,4,4,4,4,5,5,4,4,4,4,6,6,6],"trans":["auto(l5)","manual(m5)","manual(m6)","auto(av)","auto(l5)","manual(m5)","auto(av)","manual(m5)","auto(l5)","manual(m6)","auto(s6)","auto(l5)","manual(m5)","auto(s6)","manual(m6)","auto(l5)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m6)","auto(l4)","manual(m6)","auto(s6)","manual(m6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s6)","auto(l3)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l6)","manual(m6)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(l5)","auto(l4)","manual(m6)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","manual(m6)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","manual(m5)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l5)","manual(m6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m6)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","manual(m5)","auto(l4)","auto(av)","manual(m6)","manual(m6)","auto(av)","auto(l4)","manual(m5)","auto(av)","auto(l4)","manual(m5)","auto(l5)","auto(s5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s4)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(s4)","auto(s4)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","auto(s6)","auto(l4)","manual(m5)","manual(m5)","auto(s5)","auto(l4)","manual(m5)","auto(s5)","auto(l3)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m6)","auto(l5)","manual(m5)","auto(l4)","manual(m6)","auto(s6)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(s6)","manual(m6)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(s6)","manual(m5)","auto(l5)","auto(s6)","manual(m6)","auto(l5)","manual(m5)","auto(s6)"],"drv":["f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","r","r","r","r","r","r","r","r","r","r","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","4","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","r","r","r","r","r","r","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","4","4","4","4","f","f","f","f","f","f","f","f","f","4","4","4","4","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f"],"cty":[18,21,20,21,16,18,18,18,16,20,19,15,17,17,15,15,17,16,14,11,14,13,12,16,15,16,15,15,14,11,11,14,19,22,18,18,17,18,17,16,16,17,17,11,15,15,16,16,15,14,13,14,14,14,9,11,11,13,13,9,13,11,13,11,12,9,13,13,12,9,11,11,13,11,11,11,12,14,15,14,13,13,13,14,14,13,13,13,11,13,18,18,17,16,15,15,15,15,14,28,24,25,23,24,26,25,24,21,18,18,21,21,18,18,19,19,19,20,20,17,16,17,17,15,15,14,9,14,13,11,11,12,12,11,11,11,12,14,13,13,13,21,19,23,23,19,19,18,19,19,14,15,14,12,18,16,17,18,16,18,18,20,19,20,18,21,19,19,19,20,20,19,20,15,16,15,15,16,14,21,21,21,21,18,18,19,21,21,21,22,18,18,18,24,24,26,28,26,11,13,15,16,17,15,15,15,16,21,19,21,22,17,33,21,19,22,21,21,21,16,17,35,29,21,19,20,20,21,18,19,21,16,18,17],"hwy":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"fl":["p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","r","e","r","r","r","p","p","p","p","p","r","e","r","d","r","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","e","r","r","r","r","r","e","r","r","r","e","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","r","r","r","p","r","r","r","c","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","d","r","r","r","e","r","r","p","p","r","r","p","r","p","r","r","r","r","r","r","r","r","r","p","p","r","r","p","r","r","p","p","r","p","r","r","p","r","r","r","p","r","p","r","r","r","r","p","r","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","p","r","d","r","r","p","p","r","r","r","r","d","d","r","r","r","r","p","p","p","p","p","p","p"],"class":["compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","midsize","midsize","midsize","suv","suv","suv","suv","suv","2seater","2seater","2seater","2seater","2seater","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","compact","compact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","suv","suv","subcompact","subcompact","subcompact","subcompact","compact","compact","compact","compact","suv","suv","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","midsize","midsize","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize"]},"type":"data.frame","container":"svg","options":{"x":"hwy","y":"cty","col":"crimson","size":2,"xticks":null,"yticks":null,"xtitle":"hwy variable","ytitle":"cty variable","title":"cty and hwy relationship","font":"Verdana, Geneva, Tahoma, sans-serif","stroke":null,"strokeWidth":null,"width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":20,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/scatterplot.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the x variable\nlet xmin = d3.min(data, (d) => d[options.x]);\nlet xmax = d3.max(data, (d) => d[options.x]);\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\nlet x = d3\n  .scaleLinear()\n  .domain(d3.extent(data, d => d[options.x]))\n  .range([margin.left, width - margin.right])\n  .nice();\n\n// Setting the scale of the y variable\nlet y = d3\n  .scaleLinear()\n  .domain(d3.extent(data, d => d[options.y]))\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x)\n       .ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y)\n       .ticks(options.yticks);\n\n\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS)\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS)\n\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style('fill', options.axisCol)\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style('fill', options.axisCol)\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style('fill', options.axisCol)\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol)\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol)\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol)\n\n\n// Rendering the scatter plot\nsvg\n  .style(\"background-color\", options.bgcol)\n  .selectAll(\"circle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => x(d[options.x]))\n  .attr(\"cy\", (d) => y(d[options.y]))\n  .attr(\"r\", options.size)\n  .attr(\"fill\", options.col)\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>In comparison to <code>ggplot2</code>, graphics’ customization in <code>ddplot</code> is limited nonetheless you get a fully vectorized SVG which is cool.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/scatterPlot.html">scatterPlot</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">mpg</span>,
  x <span class="op">=</span> <span class="st">"displ"</span>,
  y <span class="op">=</span> <span class="st">"cty"</span>,
  col <span class="op">=</span> <span class="st">"tomato"</span>,
  bgcol <span class="op">=</span> <span class="st">"pink"</span>,
  size <span class="op">=</span> <span class="fl">3</span>,
  stroke <span class="op">=</span> <span class="st">"royalblue"</span>,
  strokeWidth <span class="op">=</span> <span class="fl">1</span>,
  xtitle <span class="op">=</span> <span class="st">"displ variable"</span>,
  ytitle <span class="op">=</span> <span class="st">"cty variable"</span>,
  xticks <span class="op">=</span> <span class="fl">3</span>,
  yticks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-b86ad3ca9411e30a6911" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b86ad3ca9411e30a6911">{"x":{"data":{"manufacturer":["audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","honda","honda","honda","honda","honda","honda","honda","honda","honda","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","jeep","jeep","jeep","jeep","jeep","jeep","jeep","jeep","land rover","land rover","land rover","land rover","lincoln","lincoln","lincoln","mercury","mercury","mercury","mercury","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","pontiac","pontiac","pontiac","pontiac","pontiac","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen"],"model":["a4","a4","a4","a4","a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","expedition 2wd","expedition 2wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","civic","civic","civic","civic","civic","sonata","sonata","sonata","sonata","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","range rover","range rover","navigator 2wd","navigator 2wd","navigator 2wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","altima","altima","maxima","maxima","maxima","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","grand prix","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","camry","camry","camry","camry","camry","camry","camry","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","corolla","corolla","corolla","corolla","corolla","land cruiser wagon 4wd","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","gti","gti","gti","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","new beetle","new beetle","new beetle","new beetle","new beetle","new beetle","passat","passat","passat","passat","passat","passat","passat"],"displ":[1.8,1.8,2,2,2.8,2.8,3.1,1.8,1.8,2,2,2.8,2.8,3.1,3.1,2.8,3.1,4.2,5.3,5.3,5.3,5.7,6,5.7,5.7,6.2,6.2,7,5.3,5.3,5.7,6.5,2.4,2.4,3.1,3.5,3.6,2.4,3,3.3,3.3,3.3,3.3,3.3,3.8,3.8,3.8,4,3.7,3.7,3.9,3.9,4.7,4.7,4.7,5.2,5.2,3.9,4.7,4.7,4.7,5.2,5.7,5.9,4.7,4.7,4.7,4.7,4.7,4.7,5.2,5.2,5.7,5.9,4.6,5.4,5.4,4,4,4,4,4.6,5,4.2,4.2,4.6,4.6,4.6,5.4,5.4,3.8,3.8,4,4,4.6,4.6,4.6,4.6,5.4,1.6,1.6,1.6,1.6,1.6,1.8,1.8,1.8,2,2.4,2.4,2.4,2.4,2.5,2.5,3.3,2,2,2,2,2.7,2.7,2.7,3,3.7,4,4.7,4.7,4.7,5.7,6.1,4,4.2,4.4,4.6,5.4,5.4,5.4,4,4,4.6,5,2.4,2.4,2.5,2.5,3.5,3.5,3,3,3.5,3.3,3.3,4,5.6,3.1,3.8,3.8,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.2,2.2,2.5,2.5,2.5,2.5,2.5,2.5,2.7,2.7,3.4,3.4,4,4.7,2.2,2.2,2.4,2.4,3,3,3.5,2.2,2.2,2.4,2.4,3,3,3.3,1.8,1.8,1.8,1.8,1.8,4.7,5.7,2.7,2.7,2.7,3.4,3.4,4,4,2,2,2,2,2.8,1.9,2,2,2,2,2.5,2.5,2.8,2.8,1.9,1.9,2,2,2.5,2.5,1.8,1.8,2,2,2.8,2.8,3.6],"year":[1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,2008,2008,2008,2008,2008,1999,2008,1999,1999,2008,2008,2008,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,2008,2008,2008,1999,2008,1999,2008,2008,2008,2008,2008,2008,1999,1999,2008,1999,1999,1999,2008,1999,1999,1999,2008,2008,1999,1999,1999,1999,1999,2008,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,2008,2008,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,1999,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,1999,2008,2008,1999,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008],"cyl":[4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,4,4,6,6,6,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,8,8,6,6,8,8,8,8,8,6,6,6,6,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,6,6,8,8,4,4,4,4,6,6,6,6,6,6,6,6,8,6,6,6,6,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,4,4,4,4,6,6,6,4,4,4,4,6,6,6,4,4,4,4,4,8,8,4,4,4,6,6,6,6,4,4,4,4,6,4,4,4,4,4,5,5,6,6,4,4,4,4,5,5,4,4,4,4,6,6,6],"trans":["auto(l5)","manual(m5)","manual(m6)","auto(av)","auto(l5)","manual(m5)","auto(av)","manual(m5)","auto(l5)","manual(m6)","auto(s6)","auto(l5)","manual(m5)","auto(s6)","manual(m6)","auto(l5)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m6)","auto(l4)","manual(m6)","auto(s6)","manual(m6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s6)","auto(l3)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l6)","manual(m6)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(l5)","auto(l4)","manual(m6)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","manual(m6)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","manual(m5)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l5)","manual(m6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m6)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","manual(m5)","auto(l4)","auto(av)","manual(m6)","manual(m6)","auto(av)","auto(l4)","manual(m5)","auto(av)","auto(l4)","manual(m5)","auto(l5)","auto(s5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s4)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(s4)","auto(s4)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","auto(s6)","auto(l4)","manual(m5)","manual(m5)","auto(s5)","auto(l4)","manual(m5)","auto(s5)","auto(l3)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m6)","auto(l5)","manual(m5)","auto(l4)","manual(m6)","auto(s6)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(s6)","manual(m6)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(s6)","manual(m5)","auto(l5)","auto(s6)","manual(m6)","auto(l5)","manual(m5)","auto(s6)"],"drv":["f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","r","r","r","r","r","r","r","r","r","r","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","4","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","r","r","r","r","r","r","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","r","r","r","4","4","4","4","f","f","f","f","f","f","f","f","f","4","4","4","4","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f","f"],"cty":[18,21,20,21,16,18,18,18,16,20,19,15,17,17,15,15,17,16,14,11,14,13,12,16,15,16,15,15,14,11,11,14,19,22,18,18,17,18,17,16,16,17,17,11,15,15,16,16,15,14,13,14,14,14,9,11,11,13,13,9,13,11,13,11,12,9,13,13,12,9,11,11,13,11,11,11,12,14,15,14,13,13,13,14,14,13,13,13,11,13,18,18,17,16,15,15,15,15,14,28,24,25,23,24,26,25,24,21,18,18,21,21,18,18,19,19,19,20,20,17,16,17,17,15,15,14,9,14,13,11,11,12,12,11,11,11,12,14,13,13,13,21,19,23,23,19,19,18,19,19,14,15,14,12,18,16,17,18,16,18,18,20,19,20,18,21,19,19,19,20,20,19,20,15,16,15,15,16,14,21,21,21,21,18,18,19,21,21,21,22,18,18,18,24,24,26,28,26,11,13,15,16,17,15,15,15,16,21,19,21,22,17,33,21,19,22,21,21,21,16,17,35,29,21,19,20,20,21,18,19,21,16,18,17],"hwy":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"fl":["p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","r","e","r","r","r","p","p","p","p","p","r","e","r","d","r","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","e","r","r","r","r","r","e","r","r","r","e","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","r","r","r","p","r","r","r","c","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","d","r","r","r","e","r","r","p","p","r","r","p","r","p","r","r","r","r","r","r","r","r","r","p","p","r","r","p","r","r","p","p","r","p","r","r","p","r","r","r","p","r","p","r","r","r","r","p","r","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","p","r","d","r","r","p","p","r","r","r","r","d","d","r","r","r","r","p","p","p","p","p","p","p"],"class":["compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","midsize","midsize","midsize","suv","suv","suv","suv","suv","2seater","2seater","2seater","2seater","2seater","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","compact","compact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","suv","suv","subcompact","subcompact","subcompact","subcompact","compact","compact","compact","compact","suv","suv","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","midsize","midsize","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize"]},"type":"data.frame","container":"svg","options":{"x":"displ","y":"cty","col":"tomato","size":3,"xticks":3,"yticks":3,"xtitle":"displ variable","ytitle":"cty variable","title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"royalblue","strokeWidth":1,"width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"pink","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/scatterplot.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the x variable\nlet xmin = d3.min(data, (d) => d[options.x]);\nlet xmax = d3.max(data, (d) => d[options.x]);\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\nlet x = d3\n  .scaleLinear()\n  .domain(d3.extent(data, d => d[options.x]))\n  .range([margin.left, width - margin.right])\n  .nice();\n\n// Setting the scale of the y variable\nlet y = d3\n  .scaleLinear()\n  .domain(d3.extent(data, d => d[options.y]))\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x)\n       .ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y)\n       .ticks(options.yticks);\n\n\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS)\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS)\n\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style('fill', options.axisCol)\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style('fill', options.axisCol)\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style('fill', options.axisCol)\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol)\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol)\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol)\n\n\n// Rendering the scatter plot\nsvg\n  .style(\"background-color\", options.bgcol)\n  .selectAll(\"circle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => x(d[options.x]))\n  .attr(\"cy\", (d) => y(d[options.y]))\n  .attr(\"r\", options.size)\n  .attr(\"fill\", options.col)\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="histogram" class="section level1">
<h1 class="hasAnchor">
<a href="#histogram" class="anchor"></a><code>histogram()</code>
</h1>
<p>The <code><a href="../reference/histogram.html">histogram()</a></code> function allows you to visualize the distribution of a vector of data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/histogram.html">histogram</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="va">mpg</span><span class="op">$</span><span class="va">hwy</span>,
  bins <span class="op">=</span> <span class="fl">20</span>,
  fill <span class="op">=</span> <span class="st">"crimson"</span>,
  stroke <span class="op">=</span> <span class="st">"white"</span>,
  strokeWidth <span class="op">=</span> <span class="fl">1</span>,
  title <span class="op">=</span> <span class="st">"Distribution of the hwy variable"</span>,
  width <span class="op">=</span> <span class="st">"20"</span>,
  height <span class="op">=</span> <span class="st">"10"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-fa9c2cb36b2d320e590f" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-fa9c2cb36b2d320e590f">{"x":{"data":["function (..., list = character(), package = NULL, lib.loc = NULL, ","    verbose = getOption(\"verbose\"), envir = .GlobalEnv, overwrite = TRUE) ","{","    fileExt <- function(x) {","        db <- grepl(\"\\\\.[^.]+\\\\.(gz|bz2|xz)$\", x)","        ans <- sub(\".*\\\\.\", \"\", x)","        ans[db] <- sub(\".*\\\\.([^.]+\\\\.)(gz|bz2|xz)$\", \"\\\\1\\\\2\", ","            x[db])","        ans","    }","    my_read_table <- function(...) {","        lcc <- Sys.getlocale(\"LC_COLLATE\")","        on.exit(Sys.setlocale(\"LC_COLLATE\", lcc))","        Sys.setlocale(\"LC_COLLATE\", \"C\")","        read.table(...)","    }","    names <- c(as.character(substitute(list(...))[-1L]), list)","    if (!is.null(package)) {","        if (!is.character(package)) ","            stop(\"'package' must be a character string or NULL\")","        if (FALSE) {","            if (any(package %in% \"base\")) ","                warning(\"datasets have been moved from package 'base' to package 'datasets'\")","            if (any(package %in% \"stats\")) ","                warning(\"datasets have been moved from package 'stats' to package 'datasets'\")","            package[package %in% c(\"base\", \"stats\")] <- \"datasets\"","        }","    }","    paths <- find.package(package, lib.loc, verbose = verbose)","    if (is.null(lib.loc)) ","        paths <- c(path.package(package, TRUE), if (!length(package)) getwd(), ","            paths)","    paths <- unique(normalizePath(paths[file.exists(paths)]))","    paths <- paths[dir.exists(file.path(paths, \"data\"))]","    dataExts <- tools:::.make_file_exts(\"data\")","    if (length(names) == 0L) {","        db <- matrix(character(), nrow = 0L, ncol = 4L)","        for (path in paths) {","            entries <- NULL","            packageName <- if (file_test(\"-f\", file.path(path, ","                \"DESCRIPTION\"))) ","                basename(path)","            else \".\"","            if (file_test(\"-f\", INDEX <- file.path(path, \"Meta\", ","                \"data.rds\"))) {","                entries <- readRDS(INDEX)","            }","            else {","                dataDir <- file.path(path, \"data\")","                entries <- tools::list_files_with_type(dataDir, ","                  \"data\")","                if (length(entries)) {","                  entries <- unique(tools::file_path_sans_ext(basename(entries)))","                  entries <- cbind(entries, \"\")","                }","            }","            if (NROW(entries)) {","                if (is.matrix(entries) && ncol(entries) == 2L) ","                  db <- rbind(db, cbind(packageName, dirname(path), ","                    entries))","                else warning(gettextf(\"data index for package %s is invalid and will be ignored\", ","                  sQuote(packageName)), domain = NA, call. = FALSE)","            }","        }","        colnames(db) <- c(\"Package\", \"LibPath\", \"Item\", \"Title\")","        footer <- if (missing(package)) ","            paste0(\"Use \", sQuote(paste(\"data(package =\", \".packages(all.available = TRUE))\")), ","                \"\\n\", \"to list the data sets in all *available* packages.\")","        else NULL","        y <- list(title = \"Data sets\", header = NULL, results = db, ","            footer = footer)","        class(y) <- \"packageIQR\"","        return(y)","    }","    paths <- file.path(paths, \"data\")","    for (name in names) {","        found <- FALSE","        for (p in paths) {","            tmp_env <- if (overwrite) ","                envir","            else new.env()","            if (file_test(\"-f\", file.path(p, \"Rdata.rds\"))) {","                rds <- readRDS(file.path(p, \"Rdata.rds\"))","                if (name %in% names(rds)) {","                  found <- TRUE","                  if (verbose) ","                    message(sprintf(\"name=%s:\\t found in Rdata.rds\", ","                      name), domain = NA)","                  thispkg <- sub(\".*/([^/]*)/data$\", \"\\\\1\", p)","                  thispkg <- sub(\"_.*$\", \"\", thispkg)","                  thispkg <- paste0(\"package:\", thispkg)","                  objs <- rds[[name]]","                  lazyLoad(file.path(p, \"Rdata\"), envir = tmp_env, ","                    filter = function(x) x %in% objs)","                  break","                }","                else if (verbose) ","                  message(sprintf(\"name=%s:\\t NOT found in names() of Rdata.rds, i.e.,\\n\\t%s\\n\", ","                    name, paste(names(rds), collapse = \",\")), ","                    domain = NA)","            }","            if (file_test(\"-f\", file.path(p, \"Rdata.zip\"))) {","                warning(\"zipped data found for package \", sQuote(basename(dirname(p))), ","                  \".\\nThat is defunct, so please re-install the package.\", ","                  domain = NA)","                if (file_test(\"-f\", fp <- file.path(p, \"filelist\"))) ","                  files <- file.path(p, scan(fp, what = \"\", quiet = TRUE))","                else {","                  warning(gettextf(\"file 'filelist' is missing for directory %s\", ","                    sQuote(p)), domain = NA)","                  next","                }","            }","            else {","                files <- list.files(p, full.names = TRUE)","            }","            files <- files[grep(name, files, fixed = TRUE)]","            if (length(files) > 1L) {","                o <- match(fileExt(files), dataExts, nomatch = 100L)","                paths0 <- dirname(files)","                paths0 <- factor(paths0, levels = unique(paths0))","                files <- files[order(paths0, o)]","            }","            if (length(files)) {","                for (file in files) {","                  if (verbose) ","                    message(\"name=\", name, \":\\t file= ...\", .Platform$file.sep, ","                      basename(file), \"::\\t\", appendLF = FALSE, ","                      domain = NA)","                  ext <- fileExt(file)","                  if (basename(file) != paste0(name, \".\", ext)) ","                    found <- FALSE","                  else {","                    found <- TRUE","                    zfile <- file","                    zipname <- file.path(dirname(file), \"Rdata.zip\")","                    if (file.exists(zipname)) {","                      Rdatadir <- tempfile(\"Rdata\")","                      dir.create(Rdatadir, showWarnings = FALSE)","                      topic <- basename(file)","                      rc <- .External(C_unzip, zipname, topic, ","                        Rdatadir, FALSE, TRUE, FALSE, FALSE)","                      if (rc == 0L) ","                        zfile <- file.path(Rdatadir, topic)","                    }","                    if (zfile != file) ","                      on.exit(unlink(zfile))","                    switch(ext, R = , r = {","                      library(\"utils\")","                      sys.source(zfile, chdir = TRUE, envir = tmp_env)","                    }, RData = , rdata = , rda = load(zfile, ","                      envir = tmp_env), TXT = , txt = , tab = , ","                      tab.gz = , tab.bz2 = , tab.xz = , txt.gz = , ","                      txt.bz2 = , txt.xz = assign(name, my_read_table(zfile, ","                        header = TRUE, as.is = FALSE), envir = tmp_env), ","                      CSV = , csv = , csv.gz = , csv.bz2 = , ","                      csv.xz = assign(name, my_read_table(zfile, ","                        header = TRUE, sep = \";\", as.is = FALSE), ","                        envir = tmp_env), found <- FALSE)","                  }","                  if (found) ","                    break","                }","                if (verbose) ","                  message(if (!found) ","                    \"*NOT* \", \"found\", domain = NA)","            }","            if (found) ","                break","        }","        if (!found) {","            warning(gettextf(\"data set %s not found\", sQuote(name)), ","                domain = NA)","        }","        else if (!overwrite) {","            for (o in ls(envir = tmp_env, all.names = TRUE)) {","                if (exists(o, envir = envir, inherits = FALSE)) ","                  warning(gettextf(\"an object named %s already exists and will not be overwritten\", ","                    sQuote(o)))","                else assign(o, get(o, envir = tmp_env, inherits = FALSE), ","                  envir = envir)","            }","            rm(tmp_env)","        }","    }","    invisible(names)","}"],"type":"function","container":"svg","options":{"x":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"bins":20,"fill":"crimson","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":"Distribution of the hwy variable","font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"white","strokeWidth":1,"width":"20","height":"10","xFontSize":10,"yFontSize":10,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/histogram.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\nlet bins = d3.histogram().thresholds(options.bins)(options.x);\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleLinear()\n  .domain([bins[0].x0, bins[bins.length - 1].x1])\n  .range([margin.left, width - margin.right]);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(bins, (d) => d.length)])\n  .nice()\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3.axisBottom(xScale).ticks(options.xticks);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y axis line\ngx.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol);\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n \n\nsvg\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .attr(\"fill\", options.fill)\n  .selectAll(\"rect\")\n  .data(bins)\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", (d) => xScale(d.x0) + 1)\n  .attr(\"width\", (d) => Math.max(0, xScale(d.x1) - xScale(d.x0) - 1))\n  .attr(\"y\", (d) => yScale(d.length))\n  .attr(\"height\", (d) => yScale(0) - yScale(d.length))\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="animatedhistogram" class="section level1">
<h1 class="hasAnchor">
<a href="#animatedhistogram" class="anchor"></a><code>animatedHistogram()</code>
</h1>
<p>This function allows you to create a one-click histogram animation. Useful for presentation purposes. Click on the following empty plot and see what happens:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/animatedHistogram.html">animatedHistogram</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="va">mpg</span><span class="op">$</span><span class="va">hwy</span>,
  duration <span class="op">=</span> <span class="fl">2000</span>,
  delay <span class="op">=</span> <span class="fl">100</span>,
  fill <span class="op">=</span> <span class="st">"lime"</span>,
  stroke <span class="op">=</span> <span class="st">"white"</span>,
  bgcol <span class="op">=</span> <span class="st">"white"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-9049adf7234e72abf2f7" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-9049adf7234e72abf2f7">{"x":{"data":["function (..., list = character(), package = NULL, lib.loc = NULL, ","    verbose = getOption(\"verbose\"), envir = .GlobalEnv, overwrite = TRUE) ","{","    fileExt <- function(x) {","        db <- grepl(\"\\\\.[^.]+\\\\.(gz|bz2|xz)$\", x)","        ans <- sub(\".*\\\\.\", \"\", x)","        ans[db] <- sub(\".*\\\\.([^.]+\\\\.)(gz|bz2|xz)$\", \"\\\\1\\\\2\", ","            x[db])","        ans","    }","    my_read_table <- function(...) {","        lcc <- Sys.getlocale(\"LC_COLLATE\")","        on.exit(Sys.setlocale(\"LC_COLLATE\", lcc))","        Sys.setlocale(\"LC_COLLATE\", \"C\")","        read.table(...)","    }","    names <- c(as.character(substitute(list(...))[-1L]), list)","    if (!is.null(package)) {","        if (!is.character(package)) ","            stop(\"'package' must be a character string or NULL\")","        if (FALSE) {","            if (any(package %in% \"base\")) ","                warning(\"datasets have been moved from package 'base' to package 'datasets'\")","            if (any(package %in% \"stats\")) ","                warning(\"datasets have been moved from package 'stats' to package 'datasets'\")","            package[package %in% c(\"base\", \"stats\")] <- \"datasets\"","        }","    }","    paths <- find.package(package, lib.loc, verbose = verbose)","    if (is.null(lib.loc)) ","        paths <- c(path.package(package, TRUE), if (!length(package)) getwd(), ","            paths)","    paths <- unique(normalizePath(paths[file.exists(paths)]))","    paths <- paths[dir.exists(file.path(paths, \"data\"))]","    dataExts <- tools:::.make_file_exts(\"data\")","    if (length(names) == 0L) {","        db <- matrix(character(), nrow = 0L, ncol = 4L)","        for (path in paths) {","            entries <- NULL","            packageName <- if (file_test(\"-f\", file.path(path, ","                \"DESCRIPTION\"))) ","                basename(path)","            else \".\"","            if (file_test(\"-f\", INDEX <- file.path(path, \"Meta\", ","                \"data.rds\"))) {","                entries <- readRDS(INDEX)","            }","            else {","                dataDir <- file.path(path, \"data\")","                entries <- tools::list_files_with_type(dataDir, ","                  \"data\")","                if (length(entries)) {","                  entries <- unique(tools::file_path_sans_ext(basename(entries)))","                  entries <- cbind(entries, \"\")","                }","            }","            if (NROW(entries)) {","                if (is.matrix(entries) && ncol(entries) == 2L) ","                  db <- rbind(db, cbind(packageName, dirname(path), ","                    entries))","                else warning(gettextf(\"data index for package %s is invalid and will be ignored\", ","                  sQuote(packageName)), domain = NA, call. = FALSE)","            }","        }","        colnames(db) <- c(\"Package\", \"LibPath\", \"Item\", \"Title\")","        footer <- if (missing(package)) ","            paste0(\"Use \", sQuote(paste(\"data(package =\", \".packages(all.available = TRUE))\")), ","                \"\\n\", \"to list the data sets in all *available* packages.\")","        else NULL","        y <- list(title = \"Data sets\", header = NULL, results = db, ","            footer = footer)","        class(y) <- \"packageIQR\"","        return(y)","    }","    paths <- file.path(paths, \"data\")","    for (name in names) {","        found <- FALSE","        for (p in paths) {","            tmp_env <- if (overwrite) ","                envir","            else new.env()","            if (file_test(\"-f\", file.path(p, \"Rdata.rds\"))) {","                rds <- readRDS(file.path(p, \"Rdata.rds\"))","                if (name %in% names(rds)) {","                  found <- TRUE","                  if (verbose) ","                    message(sprintf(\"name=%s:\\t found in Rdata.rds\", ","                      name), domain = NA)","                  thispkg <- sub(\".*/([^/]*)/data$\", \"\\\\1\", p)","                  thispkg <- sub(\"_.*$\", \"\", thispkg)","                  thispkg <- paste0(\"package:\", thispkg)","                  objs <- rds[[name]]","                  lazyLoad(file.path(p, \"Rdata\"), envir = tmp_env, ","                    filter = function(x) x %in% objs)","                  break","                }","                else if (verbose) ","                  message(sprintf(\"name=%s:\\t NOT found in names() of Rdata.rds, i.e.,\\n\\t%s\\n\", ","                    name, paste(names(rds), collapse = \",\")), ","                    domain = NA)","            }","            if (file_test(\"-f\", file.path(p, \"Rdata.zip\"))) {","                warning(\"zipped data found for package \", sQuote(basename(dirname(p))), ","                  \".\\nThat is defunct, so please re-install the package.\", ","                  domain = NA)","                if (file_test(\"-f\", fp <- file.path(p, \"filelist\"))) ","                  files <- file.path(p, scan(fp, what = \"\", quiet = TRUE))","                else {","                  warning(gettextf(\"file 'filelist' is missing for directory %s\", ","                    sQuote(p)), domain = NA)","                  next","                }","            }","            else {","                files <- list.files(p, full.names = TRUE)","            }","            files <- files[grep(name, files, fixed = TRUE)]","            if (length(files) > 1L) {","                o <- match(fileExt(files), dataExts, nomatch = 100L)","                paths0 <- dirname(files)","                paths0 <- factor(paths0, levels = unique(paths0))","                files <- files[order(paths0, o)]","            }","            if (length(files)) {","                for (file in files) {","                  if (verbose) ","                    message(\"name=\", name, \":\\t file= ...\", .Platform$file.sep, ","                      basename(file), \"::\\t\", appendLF = FALSE, ","                      domain = NA)","                  ext <- fileExt(file)","                  if (basename(file) != paste0(name, \".\", ext)) ","                    found <- FALSE","                  else {","                    found <- TRUE","                    zfile <- file","                    zipname <- file.path(dirname(file), \"Rdata.zip\")","                    if (file.exists(zipname)) {","                      Rdatadir <- tempfile(\"Rdata\")","                      dir.create(Rdatadir, showWarnings = FALSE)","                      topic <- basename(file)","                      rc <- .External(C_unzip, zipname, topic, ","                        Rdatadir, FALSE, TRUE, FALSE, FALSE)","                      if (rc == 0L) ","                        zfile <- file.path(Rdatadir, topic)","                    }","                    if (zfile != file) ","                      on.exit(unlink(zfile))","                    switch(ext, R = , r = {","                      library(\"utils\")","                      sys.source(zfile, chdir = TRUE, envir = tmp_env)","                    }, RData = , rdata = , rda = load(zfile, ","                      envir = tmp_env), TXT = , txt = , tab = , ","                      tab.gz = , tab.bz2 = , tab.xz = , txt.gz = , ","                      txt.bz2 = , txt.xz = assign(name, my_read_table(zfile, ","                        header = TRUE, as.is = FALSE), envir = tmp_env), ","                      CSV = , csv = , csv.gz = , csv.bz2 = , ","                      csv.xz = assign(name, my_read_table(zfile, ","                        header = TRUE, sep = \";\", as.is = FALSE), ","                        envir = tmp_env), found <- FALSE)","                  }","                  if (found) ","                    break","                }","                if (verbose) ","                  message(if (!found) ","                    \"*NOT* \", \"found\", domain = NA)","            }","            if (found) ","                break","        }","        if (!found) {","            warning(gettextf(\"data set %s not found\", sQuote(name)), ","                domain = NA)","        }","        else if (!overwrite) {","            for (o in ls(envir = tmp_env, all.names = TRUE)) {","                if (exists(o, envir = envir, inherits = FALSE)) ","                  warning(gettextf(\"an object named %s already exists and will not be overwritten\", ","                    sQuote(o)))","                else assign(o, get(o, envir = tmp_env, inherits = FALSE), ","                  envir = envir)","            }","            rm(tmp_env)","        }","    }","    invisible(names)","}"],"type":"function","container":"svg","options":{"x":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"bins":30,"fill":"lime","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"white","strokeWidth":null,"width":null,"height":null,"xFontSize":10,"yFontSize":10,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"white","opacity":1,"axisCol":"black","duration":2000,"delay":100},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/animatedhistogram.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\nlet bins = d3.histogram().thresholds(options.bins)(options.x);\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleLinear()\n  .domain([bins[0].x0, bins[bins.length - 1].x1])\n  .range([margin.left, width - margin.right]);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(bins, (d) => d.length)])\n  .nice()\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3.axisBottom(xScale).ticks(options.xticks);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y axis line\ngx.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol);\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n \n\nsvg\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  \n  \nsvg.on('click', function(){\n     d3.select(this)\n       .selectAll(\"rect\")\n       .data(bins)\n       .enter()\n       .append(\"rect\")\n       .attr(\"x\", (d) => xScale(d.x0) + 1)\n       .attr(\"width\", (d) => Math.max(0, xScale(d.x1) - xScale(d.x0) - 1))\n       .transition()\n       .duration(options.duration)\n       .delay((d, i) => i * options.delay)\n       .attr(\"y\", (d) => yScale(d.length))\n       .attr(\"height\", (d) => yScale(0) - yScale(d.length))\n       .attr(\"stroke\", options.stroke)\n       .attr(\"stroke-width\", options.strokeWidth)\n       .attr(\"fill\", options.fill)\n       .attr(\"opacity\", options.opacity)\n  })\n\n\n  \n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>Note that you can customize the animation using the two parameters <code>duration</code> and <code>delay</code>.</p>
</div>
<div id="barchart" class="section level1">
<h1 class="hasAnchor">
<a href="#barchart" class="anchor"></a><code>barChart()</code>
</h1>
<p>The <code>barChat()</code> function allows you to create bar charts however you need to make the aggregation beforehand. In the following example, we will plot the average <code>cty</code> for each <code>manufacturer</code> using the <code>dplyr</code> package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">manufacturer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/barChart.html">barChart</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"manufacturer"</span>,
    y <span class="op">=</span> <span class="st">"mean_cty"</span>,
    xFontSize <span class="op">=</span> <span class="fl">10</span>,
    yFontSize <span class="op">=</span> <span class="fl">10</span>,
    fill <span class="op">=</span> <span class="st">"orange"</span>,
    strokeWidth <span class="op">=</span> <span class="fl">2</span>,
    ytitle <span class="op">=</span> <span class="st">"average cty value"</span>,
    title <span class="op">=</span> <span class="st">"Average City Miles per Gallon by manufacturer"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-d3187cf842aaa39f138b" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-d3187cf842aaa39f138b">{"x":{"data":{"manufacturer":["audi","chevrolet","dodge","ford","honda","hyundai","jeep","land rover","lincoln","mercury","nissan","pontiac","subaru","toyota","volkswagen"],"mean_cty":[17.6111111111111,15,13.1351351351351,14,24.4444444444444,18.6428571428571,13.5,11.5,11.3333333333333,13.25,18.0769230769231,17,19.2857142857143,18.5294117647059,20.9259259259259]},"type":"data.frame","container":"svg","options":{"x":"manufacturer","y":"mean_cty","fill":"orange","sort":"none","paddingWidth":0.1,"xticks":null,"yticks":null,"xtitle":null,"ytitle":"average cty value","title":"Average City Miles per Gallon by manufacturer","font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":2,"width":null,"height":null,"xFontSize":10,"yFontSize":10,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/barchart.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.y], b[options.y]);\n  } else {\n    return d3.descending(a[options.y], b[options.y]);\n  }\n});\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleBand()\n  .domain(d3.range(data.length))\n  .range([margin.left, width - margin.right])\n  .padding(options.paddingWidth);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.y])])\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3\n  .axisBottom(xScale)\n  .ticks(options.xticks)\n  .tickFormat((i) => data[i][options.x]);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y axis line\ngy.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the bar chart\nsvg\n  .style(\"background-color\", options.bgcol)\n  .attr(\"viewBox\", [0, 0, width, height])\n  .selectAll(\"rect\")\n  .data(data)\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", (d, i) => xScale(i))\n  .attr(\"y\", (d) => yScale(d[options.y]))\n  .attr(\"width\", xScale.bandwidth())\n  .attr(\"height\", (d) => yScale(0) - yScale(d[options.y]))\n  .attr(\"fill\", options.fill)\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>The bars can be easily sorted in <code>ascending</code> or <code>descending</code> order using the <code>sort</code> parameter:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">manufacturer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/barChart.html">barChart</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"manufacturer"</span>,
    y <span class="op">=</span> <span class="st">"mean_cty"</span>,
    sort <span class="op">=</span> <span class="st">"ascending"</span>,
    xFontSize <span class="op">=</span> <span class="fl">10</span>,
    yFontSize <span class="op">=</span> <span class="fl">10</span>,
    fill <span class="op">=</span> <span class="st">"orange"</span>,
    strokeWidth <span class="op">=</span> <span class="fl">1</span>,
    ytitle <span class="op">=</span> <span class="st">"average cty value"</span>,
    title <span class="op">=</span> <span class="st">"Average City Miles per Gallon by manufacturer"</span>,
    titleFontSize <span class="op">=</span> <span class="fl">16</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-3d9db8e3bbce7f9cf714" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-3d9db8e3bbce7f9cf714">{"x":{"data":{"manufacturer":["audi","chevrolet","dodge","ford","honda","hyundai","jeep","land rover","lincoln","mercury","nissan","pontiac","subaru","toyota","volkswagen"],"mean_cty":[17.6111111111111,15,13.1351351351351,14,24.4444444444444,18.6428571428571,13.5,11.5,11.3333333333333,13.25,18.0769230769231,17,19.2857142857143,18.5294117647059,20.9259259259259]},"type":"data.frame","container":"svg","options":{"x":"manufacturer","y":"mean_cty","fill":"orange","sort":"ascending","paddingWidth":0.1,"xticks":null,"yticks":null,"xtitle":null,"ytitle":"average cty value","title":"Average City Miles per Gallon by manufacturer","font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1,"width":null,"height":null,"xFontSize":10,"yFontSize":10,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":16,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/barchart.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.y], b[options.y]);\n  } else {\n    return d3.descending(a[options.y], b[options.y]);\n  }\n});\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleBand()\n  .domain(d3.range(data.length))\n  .range([margin.left, width - margin.right])\n  .padding(options.paddingWidth);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.y])])\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3\n  .axisBottom(xScale)\n  .ticks(options.xticks)\n  .tickFormat((i) => data[i][options.x]);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y axis line\ngy.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the bar chart\nsvg\n  .style(\"background-color\", options.bgcol)\n  .attr(\"viewBox\", [0, 0, width, height])\n  .selectAll(\"rect\")\n  .data(data)\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", (d, i) => xScale(i))\n  .attr(\"y\", (d) => yScale(d[options.y]))\n  .attr(\"width\", xScale.bandwidth())\n  .attr(\"height\", (d) => yScale(0) - yScale(d[options.y]))\n  .attr(\"fill\", options.fill)\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="horzbarchart" class="section level1">
<h1 class="hasAnchor">
<a href="#horzbarchart" class="anchor"></a><code>horzBarChart()</code>
</h1>
<p>If you’ve many categories, it might be a good idea to go for a horizontal bar chart. It has the same parameters as the <code><a href="../reference/barChart.html">barChart()</a></code> function except that the x-axis parameter is named <code>value</code> and the y-axis parameter named <code>label</code>, this naming convention aims to mitigate some confusion that can arise.</p>
<p>If we want to replicate the above graphic in a horizontal way, we can do:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">manufacturer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/horzBarChart.html">horzBarChart</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"manufacturer"</span>,
    value <span class="op">=</span> <span class="st">"mean_cty"</span>,
    sort <span class="op">=</span> <span class="st">"ascending"</span>,
    labelFontSize  <span class="op">=</span> <span class="fl">10</span>,
    valueFontSize <span class="op">=</span> <span class="fl">10</span>,
    fill <span class="op">=</span> <span class="st">"orange"</span>,
    stroke <span class="op">=</span> <span class="st">"crimson"</span>,
    strokeWidth <span class="op">=</span> <span class="fl">1</span>,
    valueTitle  <span class="op">=</span> <span class="st">"average cty value"</span>,
    title <span class="op">=</span> <span class="st">"Average City Miles per Gallon by manufacturer"</span>,
    titleFontSize <span class="op">=</span> <span class="fl">16</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-09a7b492a86001b2e33e" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-09a7b492a86001b2e33e">{"x":{"data":{"manufacturer":["audi","chevrolet","dodge","ford","honda","hyundai","jeep","land rover","lincoln","mercury","nissan","pontiac","subaru","toyota","volkswagen"],"mean_cty":[17.6111111111111,15,13.1351351351351,14,24.4444444444444,18.6428571428571,13.5,11.5,11.3333333333333,13.25,18.0769230769231,17,19.2857142857143,18.5294117647059,20.9259259259259]},"type":"data.frame","container":"svg","options":{"value":"mean_cty","label":"manufacturer","fill":"orange","paddingWidth":0.1,"valueTicks":null,"valueFontSize":10,"labelFontSize":10,"valueTitle":"average cty value","valueTitleFontSize":14,"labelTitle":null,"labelTitleFontSize":14,"font":"Verdana, Geneva, Tahoma, sans-serif","title":"Average City Miles per Gallon by manufacturer","titleFontSize":16,"stroke":"crimson","strokeWidth":1,"opacity":1,"width":null,"height":null,"sort":"ascending","bgcol":"#CAD0D3","axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/horzbarchart.js */\nlet margin = {\n  top: 50,\n  right: 10,\n  bottom: 50,\n  left: 100,\n};\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.value], b[options.value]);\n  } else {\n    return d3.descending(a[options.value], b[options.value]);\n  }\n});\n\nlet x = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.value])])\n  .range([margin.left, width - margin.right]);\n\nlet y = d3\n  .scaleBand()\n  .domain(d3.range(data.length))\n  .rangeRound([margin.top, height - margin.bottom])\n  .padding(options.paddingWidth);\n\nlet xAxis = (g) =>\n  g\n    .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\n    .call(d3.axisBottom(x).ticks(options.valueTicks))\n    .call((g) => g.select(\".domain\").remove());\n\nlet yAxis = (g) =>\n  g\n    .attr(\"transform\", `translate(${margin.left}, 0)`)\n    .call(d3.axisLeft(y).tickFormat((i) => data[i][options.label]));\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol);\n\n\nsvg\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .attr(\"fill\", options.fill)\n  .selectAll(\"rect\")\n  .data(data)\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", x(0))\n  .attr(\"y\", (d, i) => y(i))\n  .attr(\"width\", (d) => x(d[options.value]) - x(0))\n  .attr(\"height\", y.bandwidth())\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n\nsvg.append(\"g\").call(xAxis).attr(\"font-size\", options.valueFontSize);\n\nsvg\n  .append(\"g\")\n  .call(yAxis)\n  .attr(\"font-size\", options.labelFontSize)\n  .style(\"font-family\", options.font);\n\n// rendering the x-axis title\n\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 3) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.valueTitleFontSize)\n  .text(options.valueTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.labelTitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.labelTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>As in <code><a href="../reference/barChart.html">barChart()</a></code>, we can aslo sort in descending order:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">manufacturer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mean_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/horzBarChart.html">horzBarChart</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"manufacturer"</span>,
    value <span class="op">=</span> <span class="st">"mean_cty"</span>,
    sort <span class="op">=</span> <span class="st">"descending"</span>,
    labelFontSize  <span class="op">=</span> <span class="fl">10</span>,
    valueFontSize <span class="op">=</span> <span class="fl">10</span>,
    bgcol <span class="op">=</span> <span class="st">"black"</span>,
    axisCol <span class="op">=</span> <span class="st">"white"</span>,
    fill <span class="op">=</span> <span class="st">"white"</span>,
    stroke <span class="op">=</span> <span class="st">"white"</span>,
    strokeWidth <span class="op">=</span> <span class="fl">1</span>,
    valueTitle  <span class="op">=</span> <span class="st">"average cty value"</span>,
    labelTitle <span class="op">=</span> <span class="st">"Manufacturers"</span>,
    title <span class="op">=</span> <span class="st">"Average City Miles per Gallon by manufacturer"</span>,
    titleFontSize <span class="op">=</span> <span class="fl">16</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-9f32b950ff21663b720d" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-9f32b950ff21663b720d">{"x":{"data":{"manufacturer":["audi","chevrolet","dodge","ford","honda","hyundai","jeep","land rover","lincoln","mercury","nissan","pontiac","subaru","toyota","volkswagen"],"mean_cty":[17.6111111111111,15,13.1351351351351,14,24.4444444444444,18.6428571428571,13.5,11.5,11.3333333333333,13.25,18.0769230769231,17,19.2857142857143,18.5294117647059,20.9259259259259]},"type":"data.frame","container":"svg","options":{"value":"mean_cty","label":"manufacturer","fill":"white","paddingWidth":0.1,"valueTicks":null,"valueFontSize":10,"labelFontSize":10,"valueTitle":"average cty value","valueTitleFontSize":14,"labelTitle":"Manufacturers","labelTitleFontSize":14,"font":"Verdana, Geneva, Tahoma, sans-serif","title":"Average City Miles per Gallon by manufacturer","titleFontSize":16,"stroke":"white","strokeWidth":1,"opacity":1,"width":null,"height":null,"sort":"descending","bgcol":"black","axisCol":"white"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/horzbarchart.js */\nlet margin = {\n  top: 50,\n  right: 10,\n  bottom: 50,\n  left: 100,\n};\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.value], b[options.value]);\n  } else {\n    return d3.descending(a[options.value], b[options.value]);\n  }\n});\n\nlet x = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.value])])\n  .range([margin.left, width - margin.right]);\n\nlet y = d3\n  .scaleBand()\n  .domain(d3.range(data.length))\n  .rangeRound([margin.top, height - margin.bottom])\n  .padding(options.paddingWidth);\n\nlet xAxis = (g) =>\n  g\n    .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\n    .call(d3.axisBottom(x).ticks(options.valueTicks))\n    .call((g) => g.select(\".domain\").remove());\n\nlet yAxis = (g) =>\n  g\n    .attr(\"transform\", `translate(${margin.left}, 0)`)\n    .call(d3.axisLeft(y).tickFormat((i) => data[i][options.label]));\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol);\n\n\nsvg\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .attr(\"fill\", options.fill)\n  .selectAll(\"rect\")\n  .data(data)\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", x(0))\n  .attr(\"y\", (d, i) => y(i))\n  .attr(\"width\", (d) => x(d[options.value]) - x(0))\n  .attr(\"height\", y.bandwidth())\n  .attr(\"opacity\", options.opacity)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth);\n\nsvg.append(\"g\").call(xAxis).attr(\"font-size\", options.valueFontSize);\n\nsvg\n  .append(\"g\")\n  .call(yAxis)\n  .attr(\"font-size\", options.labelFontSize)\n  .style(\"font-family\", options.font);\n\n// rendering the x-axis title\n\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 3) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.valueTitleFontSize)\n  .text(options.valueTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.labelTitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.labelTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="lollipopchart" class="section level1">
<h1 class="hasAnchor">
<a href="#lollipopchart" class="anchor"></a><code>lollipopChart()</code>
</h1>
<p>lollipop chart follows the same behavior as bar charts but instead of bars you get lollipops, hence the name. Below an example of a lollipop chart with <code>ddplot</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">drv</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>median_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/lollipopChart.html">lollipopChart</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"drv"</span>,
    y <span class="op">=</span> <span class="st">"median_cty"</span>,
    sort <span class="op">=</span> <span class="st">"ascending"</span>,
    xtitle <span class="op">=</span> <span class="st">"drv variable"</span>,
    ytitle <span class="op">=</span> <span class="st">"median cty"</span>,
    title <span class="op">=</span> <span class="st">"Median cty per drv"</span>,
    xFontSize <span class="op">=</span> <span class="fl">20</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-ba671955ecf94fb8159e" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba671955ecf94fb8159e">{"x":{"data":{"drv":["4","f","r"],"median_cty":[14,19,15]},"type":"data.frame","container":"svg","options":{"x":"drv","y":"median_cty","sort":"ascending","bgcol":"white","xticks":null,"yticks":null,"xFontSize":20,"yFontSize":12,"font":"Verdana, Geneva, Tahoma, sans-serif","xtitle":"drv variable","xtitleFontSize":14,"ytitle":"median cty","ytitleFontSize":14,"title":"Median cty per drv","titleFontSize":20,"lineStroke":"maroon","lineStrokeWidth":4,"circleStroke":"lime","circleStrokeWidth":1,"circleFill":"lime","circleRadius":10,"axisCol":"black","width":null,"height":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/lollipopchart.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.y], b[options.y]);\n  } else {\n    return d3.descending(a[options.y], b[options.y]);\n  }\n});\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleBand()\n  .domain(\n    data.map(function (d) {\n      return d[options.x];\n    })\n  )\n  .range([margin.left, width - margin.right])\n  .padding(1);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.y])])\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3.axisBottom(xScale).ticks(options.xticks);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y and x axis line\ngx.call((g) => g.selectAll(\"line\").remove());\ngy.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 1) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the lines\n\nsvg.style(\"background-color\", options.bgcol);\n\nsvg\n  .selectAll(\"myline\")\n  .data(data)\n  .enter()\n  .append(\"line\")\n  .attr(\"x1\", (d) => xScale(d[options.x]))\n  .attr(\"y1\", (d) => yScale(d[options.y]))\n  .attr(\"x2\", (d) => xScale(d[options.x]))\n  .attr(\"y2\", yScale(0))\n  .attr(\"stroke\", options.lineStroke)\n  .attr(\"stroke-width\", options.lineStrokeWidth);\n\n// Rendering the circles\nsvg\n  .selectAll(\"mycircle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => xScale(d[options.x]))\n  .attr(\"cy\", (d) => yScale(d[options.y]))\n  .attr(\"r\", options.circleRadius)\n  .style(\"fill\", options.circleFill)\n  .attr(\"stroke\", options.circleStroke)\n  .attr(\"stroke-width\", options.circleStrokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>It’s possible to grasp the distribution of some variable according to a specific categorical variable using the same function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2008</span><span class="op">)</span> <span class="op">%&gt;%</span>
<span class="fu"><a href="../reference/lollipopChart.html">lollipopChart</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"manufacturer"</span>,
    y <span class="op">=</span> <span class="st">"hwy"</span>,
    circleFill <span class="op">=</span> <span class="st">'red'</span>,
    circleStroke <span class="op">=</span> <span class="st">'orange'</span>,
    circleRadius <span class="op">=</span> <span class="fl">5</span>,
    sort <span class="op">=</span> <span class="st">"none"</span>,
    xFontSize <span class="op">=</span> <span class="fl">10</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-57d90d159b5c14b3e2bb" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-57d90d159b5c14b3e2bb">{"x":{"data":{"manufacturer":["audi","audi","audi","audi","audi","audi","audi","audi","audi","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","honda","honda","honda","honda","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","jeep","jeep","jeep","jeep","jeep","jeep","land rover","land rover","lincoln","mercury","mercury","nissan","nissan","nissan","nissan","nissan","nissan","nissan","pontiac","pontiac","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen"],"model":["a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","navigator 2wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","maxima","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","camry","camry","camry","camry solara","camry solara","camry solara","corolla","corolla","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","jetta","jetta","jetta","jetta","new beetle","new beetle","passat","passat","passat"],"displ":[2,2,3.1,2,2,3.1,3.1,3.1,4.2,5.3,5.3,5.3,6,6.2,6.2,7,5.3,5.3,2.4,3.5,3.6,3.3,3.3,3.3,3.8,4,3.7,3.7,4.7,4.7,4.7,4.7,4.7,4.7,5.7,4.7,4.7,4.7,4.7,4.7,4.7,5.7,5.4,4,4.6,4.6,5.4,4,4,4.6,4.6,5.4,1.8,1.8,1.8,2,2.4,2.4,3.3,2,2,2.7,2.7,2.7,3,3.7,4.7,4.7,5.7,6.1,4.2,4.4,5.4,4,4.6,2.5,2.5,3.5,3.5,3.5,4,5.6,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,4,4.7,2.4,2.4,3.5,2.4,2.4,3.3,1.8,1.8,5.7,2.7,4,4,2,2,2,2,2.5,2.5,2.5,2.5,2,2,3.6],"year":[2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008],"cyl":[4,4,6,4,4,6,6,6,8,8,8,8,8,8,8,8,8,8,4,6,6,6,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,8,8,8,6,6,8,8,8,4,4,4,4,4,4,6,4,4,6,6,6,6,6,8,8,8,8,8,8,8,6,8,4,4,6,6,6,6,8,6,8,4,4,4,4,4,4,4,4,6,8,4,4,6,4,4,6,4,4,8,4,6,6,4,4,4,4,5,5,5,5,4,4,6],"trans":["manual(m6)","auto(av)","auto(av)","manual(m6)","auto(s6)","auto(s6)","manual(m6)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m6)","auto(s6)","manual(m6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l6)","manual(m6)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","manual(m6)","auto(l5)","auto(l6)","auto(l5)","auto(l6)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","manual(m5)","auto(l5)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","manual(m6)","auto(l4)","manual(m5)","auto(l5)","manual(m5)","auto(l4)","auto(l4)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(s6)","auto(s6)","auto(l6)","auto(l5)","auto(l6)","auto(av)","manual(m6)","manual(m6)","auto(av)","auto(av)","auto(l5)","auto(s5)","auto(l4)","auto(s4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(s4)","auto(s4)","manual(m5)","manual(m5)","auto(l5)","auto(l5)","manual(m5)","auto(l5)","auto(s6)","manual(m5)","auto(s5)","auto(s5)","manual(m5)","auto(l4)","auto(s6)","manual(m5)","manual(m6)","auto(l5)","manual(m6)","auto(s6)","auto(s6)","manual(m6)","auto(s6)","manual(m5)","manual(m5)","auto(s6)","auto(s6)","manual(m6)","auto(s6)"],"drv":["f","f","f","4","4","4","4","4","4","r","r","r","r","r","r","r","4","4","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","r","4","4","4","4","r","r","r","r","r","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","r","4","4","f","f","f","f","f","4","4","f","f","4","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f"],"cty":[20,21,18,20,19,17,15,17,16,14,11,14,12,16,15,15,14,11,22,18,17,17,17,11,16,16,15,14,14,14,9,13,9,13,13,12,9,13,13,12,9,13,12,13,13,13,13,17,16,15,15,14,26,25,24,21,21,21,19,20,20,17,16,17,17,15,9,14,13,11,12,12,12,13,13,23,23,19,19,19,14,12,18,16,20,19,20,18,20,20,19,20,16,14,21,21,19,21,22,18,28,26,13,17,15,16,21,22,22,21,21,21,20,20,19,21,17],"hwy":[31,30,27,28,27,25,25,25,23,20,15,20,17,26,25,24,19,14,30,29,26,24,24,17,23,23,19,18,19,19,12,17,12,17,18,16,12,17,17,16,12,17,18,19,19,17,17,26,24,23,22,20,34,36,36,29,30,31,28,28,27,24,24,24,22,19,12,19,18,14,18,18,18,19,19,31,32,27,26,25,20,18,28,25,27,25,26,23,25,27,25,27,20,17,31,31,28,31,31,27,37,35,18,22,18,20,29,29,29,29,29,29,28,29,28,29,26],"fl":["p","p","p","p","p","p","p","p","p","r","e","r","r","p","p","p","r","e","r","r","r","r","r","e","r","r","r","r","r","r","e","r","e","r","r","r","e","r","r","r","e","r","r","r","r","r","r","r","r","r","r","p","r","r","c","p","r","r","r","r","r","r","r","r","d","r","e","r","r","p","r","r","r","r","r","r","r","p","p","p","p","p","r","p","r","p","r","p","p","r","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","p","p","p","r","r","r","r","p","p","p"],"class":["compact","compact","compact","compact","compact","compact","compact","midsize","midsize","suv","suv","suv","suv","2seater","2seater","2seater","suv","suv","midsize","midsize","midsize","minivan","minivan","minivan","minivan","minivan","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","pickup","pickup","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","subcompact","subcompact","subcompact","subcompact","subcompact","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","suv","suv","midsize","midsize","suv","suv","suv","suv","compact","compact","compact","compact","suv","suv","midsize","midsize","midsize","compact","compact","compact","compact","compact","suv","pickup","pickup","pickup","compact","compact","compact","compact","compact","compact","subcompact","subcompact","midsize","midsize","midsize"]},"type":"data.frame","container":"svg","options":{"x":"manufacturer","y":"hwy","sort":"none","bgcol":"white","xticks":null,"yticks":null,"xFontSize":10,"yFontSize":12,"font":"Verdana, Geneva, Tahoma, sans-serif","xtitle":null,"xtitleFontSize":14,"ytitle":null,"ytitleFontSize":14,"title":null,"titleFontSize":20,"lineStroke":"maroon","lineStrokeWidth":4,"circleStroke":"orange","circleStrokeWidth":1,"circleFill":"red","circleRadius":5,"axisCol":"black","width":null,"height":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/lollipopchart.js */\n// Setting the margin object\nlet margin = { top: 50, right: 50, bottom: 50, left: 50 };\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.y], b[options.y]);\n  } else {\n    return d3.descending(a[options.y], b[options.y]);\n  }\n});\n\n// Setting the scaling of the x variable\nlet xScale = d3\n  .scaleBand()\n  .domain(\n    data.map(function (d) {\n      return d[options.x];\n    })\n  )\n  .range([margin.left, width - margin.right])\n  .padding(1);\n\n// Setting the scaling of the y variable\nlet yScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.y])])\n  .range([height - margin.bottom, margin.top]);\n\n// Setting the x-axis\nxAx = d3.axisBottom(xScale).ticks(options.xticks);\n\n// Setting the y-axis\nyAx = d3.axisLeft(yScale).ticks(options.yticks);\n\n// Rendering the x-axis\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.xFontSize);\n\n// Rendering the y-axis\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.yFontSize);\n\n// Removing the y and x axis line\ngx.call((g) => g.selectAll(\"line\").remove());\ngy.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 1) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the lines\n\nsvg.style(\"background-color\", options.bgcol);\n\nsvg\n  .selectAll(\"myline\")\n  .data(data)\n  .enter()\n  .append(\"line\")\n  .attr(\"x1\", (d) => xScale(d[options.x]))\n  .attr(\"y1\", (d) => yScale(d[options.y]))\n  .attr(\"x2\", (d) => xScale(d[options.x]))\n  .attr(\"y2\", yScale(0))\n  .attr(\"stroke\", options.lineStroke)\n  .attr(\"stroke-width\", options.lineStrokeWidth);\n\n// Rendering the circles\nsvg\n  .selectAll(\"mycircle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => xScale(d[options.x]))\n  .attr(\"cy\", (d) => yScale(d[options.y]))\n  .attr(\"r\", options.circleRadius)\n  .style(\"fill\", options.circleFill)\n  .attr(\"stroke\", options.circleStroke)\n  .attr(\"stroke-width\", options.circleStrokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>From above, it’s quite easy to notice that although Toyota has two cars with high highway miles per galon (hwy), it also produces many other vehicles with poor hwy.</p>
</div>
<div id="horzlollipop" class="section level1">
<h1 class="hasAnchor">
<a href="#horzlollipop" class="anchor"></a><code>horzLollipop()</code>
</h1>
<p>Same with bar charts, if you have a variable that has many categorical values, you can work with the reversed version of <code><a href="../reference/lollipopChart.html">lollipopChart()</a></code> which is <code><a href="../reference/horzLollipop.html">horzLollipop()</a></code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">manufacturer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>median_cty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">cty</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/horzLollipop.html">horzLollipop</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"manufacturer"</span>,
    value <span class="op">=</span> <span class="st">"median_cty"</span>,
    sort <span class="op">=</span> <span class="st">"descending"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-cbee287f49bf3f47ed25" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-cbee287f49bf3f47ed25">{"x":{"data":{"manufacturer":["audi","chevrolet","dodge","ford","honda","hyundai","jeep","land rover","lincoln","mercury","nissan","pontiac","subaru","toyota","volkswagen"],"median_cty":[17.5,15,13,14,24,18.5,14,11.5,11,13,19,17,19,18,21]},"type":"data.frame","container":"svg","options":{"label":"manufacturer","value":"median_cty","sort":"descending","bgcol":"white","valueTicks":null,"labelTicks":null,"valueFontSize":12,"labelFontSize":12,"font":"Verdana, Geneva, Tahoma, sans-serif","valueTitle":null,"valueTitleFontSize":14,"labelTitle":null,"labelTitleFontSize":14,"title":null,"titleFontSize":20,"lineStroke":"maroon","lineStrokeWidth":4,"circleStroke":"lime","circleStrokeWidth":1,"circleFill":"lime","circleRadius":5,"axisCol":"black","width":null,"height":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/horzlollipop.js */\n// Setting the margin object\nlet margin = {\n  top: 50,\n  right: 20,\n  bottom: 50,\n  left: 100,\n};\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.value], b[options.value]);\n  } else {\n    return d3.descending(a[options.value], b[options.value]);\n  }\n});\n\nlet yScale = d3\n  .scaleBand()\n  .domain(\n    data.map(function (d) {\n      return d[options.label];\n    })\n  )\n  .range([margin.bottom, height - margin.top])\n  .padding(1);\n\nlet xScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.value])])\n  .range([margin.left, width - margin.right]);\n\nxAx = d3.axisBottom(xScale).ticks(options.valueTicks);\nyAx = d3.axisLeft(yScale).ticks(options.labelTicks);\n\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.valueFontSize);\n\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.labelFontSize);\n\n// Removing the y and x axis line\ngy.call((g) => g.selectAll(\"line\").remove());\ngx.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 1) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.valueTitleFontSize)\n  .text(options.valueTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.labelTitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.labelTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the lines\n\nsvg.style(\"background-color\", options.bgcol);\n\nsvg\n  .selectAll(\"myline\")\n  .data(data)\n  .enter()\n  .append(\"line\")\n  .attr(\"x1\", (d) => xScale(d[options.value]))\n  .attr(\"y1\", (d) => yScale(d[options.label]))\n  .attr(\"x2\", xScale(0))\n  .attr(\"y2\", (d) => yScale(d[options.label]))\n  .attr(\"stroke\", options.lineStroke)\n  .attr(\"stroke-width\", options.lineStrokeWidth);\n\n// Rendering the circles\nsvg\n  .selectAll(\"mycircle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => xScale(d[options.value]))\n  .attr(\"cy\", (d) => yScale(d[options.label]))\n  .attr(\"r\", options.circleRadius)\n  .style(\"fill\", options.circleFill)\n  .attr(\"stroke\", options.circleStroke)\n  .attr(\"stroke-width\", options.circleStrokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can also do:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mpg</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2008</span><span class="op">)</span> <span class="op">%&gt;%</span>
<span class="fu"><a href="../reference/horzLollipop.html">horzLollipop</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"manufacturer"</span>,
    value <span class="op">=</span> <span class="st">"hwy"</span>,
    circleFill <span class="op">=</span> <span class="st">'red'</span>,
    circleStroke <span class="op">=</span> <span class="st">'orange'</span>,
    circleRadius <span class="op">=</span> <span class="fl">5</span>,
    sort <span class="op">=</span> <span class="st">"none"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-5482cb4dad4b18ad5cfd" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5482cb4dad4b18ad5cfd">{"x":{"data":{"manufacturer":["audi","audi","audi","audi","audi","audi","audi","audi","audi","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","honda","honda","honda","honda","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","jeep","jeep","jeep","jeep","jeep","jeep","land rover","land rover","lincoln","mercury","mercury","nissan","nissan","nissan","nissan","nissan","nissan","nissan","pontiac","pontiac","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen"],"model":["a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","navigator 2wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","maxima","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","camry","camry","camry","camry solara","camry solara","camry solara","corolla","corolla","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","jetta","jetta","jetta","jetta","new beetle","new beetle","passat","passat","passat"],"displ":[2,2,3.1,2,2,3.1,3.1,3.1,4.2,5.3,5.3,5.3,6,6.2,6.2,7,5.3,5.3,2.4,3.5,3.6,3.3,3.3,3.3,3.8,4,3.7,3.7,4.7,4.7,4.7,4.7,4.7,4.7,5.7,4.7,4.7,4.7,4.7,4.7,4.7,5.7,5.4,4,4.6,4.6,5.4,4,4,4.6,4.6,5.4,1.8,1.8,1.8,2,2.4,2.4,3.3,2,2,2.7,2.7,2.7,3,3.7,4.7,4.7,5.7,6.1,4.2,4.4,5.4,4,4.6,2.5,2.5,3.5,3.5,3.5,4,5.6,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,4,4.7,2.4,2.4,3.5,2.4,2.4,3.3,1.8,1.8,5.7,2.7,4,4,2,2,2,2,2.5,2.5,2.5,2.5,2,2,3.6],"year":[2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008],"cyl":[4,4,6,4,4,6,6,6,8,8,8,8,8,8,8,8,8,8,4,6,6,6,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,8,8,8,6,6,8,8,8,4,4,4,4,4,4,6,4,4,6,6,6,6,6,8,8,8,8,8,8,8,6,8,4,4,6,6,6,6,8,6,8,4,4,4,4,4,4,4,4,6,8,4,4,6,4,4,6,4,4,8,4,6,6,4,4,4,4,5,5,5,5,4,4,6],"trans":["manual(m6)","auto(av)","auto(av)","manual(m6)","auto(s6)","auto(s6)","manual(m6)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m6)","auto(s6)","manual(m6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l6)","manual(m6)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","manual(m6)","auto(l5)","auto(l6)","auto(l5)","auto(l6)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","manual(m5)","auto(l5)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","manual(m6)","auto(l4)","manual(m5)","auto(l5)","manual(m5)","auto(l4)","auto(l4)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(s6)","auto(s6)","auto(l6)","auto(l5)","auto(l6)","auto(av)","manual(m6)","manual(m6)","auto(av)","auto(av)","auto(l5)","auto(s5)","auto(l4)","auto(s4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(s4)","auto(s4)","manual(m5)","manual(m5)","auto(l5)","auto(l5)","manual(m5)","auto(l5)","auto(s6)","manual(m5)","auto(s5)","auto(s5)","manual(m5)","auto(l4)","auto(s6)","manual(m5)","manual(m6)","auto(l5)","manual(m6)","auto(s6)","auto(s6)","manual(m6)","auto(s6)","manual(m5)","manual(m5)","auto(s6)","auto(s6)","manual(m6)","auto(s6)"],"drv":["f","f","f","4","4","4","4","4","4","r","r","r","r","r","r","r","4","4","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","r","4","4","4","4","r","r","r","r","r","f","f","f","f","f","f","f","f","f","f","f","f","4","4","4","4","4","4","4","4","r","4","4","f","f","f","f","f","4","4","f","f","4","4","4","4","4","4","4","4","4","4","f","f","f","f","f","f","f","f","4","4","4","4","f","f","f","f","f","f","f","f","f","f","f"],"cty":[20,21,18,20,19,17,15,17,16,14,11,14,12,16,15,15,14,11,22,18,17,17,17,11,16,16,15,14,14,14,9,13,9,13,13,12,9,13,13,12,9,13,12,13,13,13,13,17,16,15,15,14,26,25,24,21,21,21,19,20,20,17,16,17,17,15,9,14,13,11,12,12,12,13,13,23,23,19,19,19,14,12,18,16,20,19,20,18,20,20,19,20,16,14,21,21,19,21,22,18,28,26,13,17,15,16,21,22,22,21,21,21,20,20,19,21,17],"hwy":[31,30,27,28,27,25,25,25,23,20,15,20,17,26,25,24,19,14,30,29,26,24,24,17,23,23,19,18,19,19,12,17,12,17,18,16,12,17,17,16,12,17,18,19,19,17,17,26,24,23,22,20,34,36,36,29,30,31,28,28,27,24,24,24,22,19,12,19,18,14,18,18,18,19,19,31,32,27,26,25,20,18,28,25,27,25,26,23,25,27,25,27,20,17,31,31,28,31,31,27,37,35,18,22,18,20,29,29,29,29,29,29,28,29,28,29,26],"fl":["p","p","p","p","p","p","p","p","p","r","e","r","r","p","p","p","r","e","r","r","r","r","r","e","r","r","r","r","r","r","e","r","e","r","r","r","e","r","r","r","e","r","r","r","r","r","r","r","r","r","r","p","r","r","c","p","r","r","r","r","r","r","r","r","d","r","e","r","r","p","r","r","r","r","r","r","r","p","p","p","p","p","r","p","r","p","r","p","p","r","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","p","p","p","r","r","r","r","p","p","p"],"class":["compact","compact","compact","compact","compact","compact","compact","midsize","midsize","suv","suv","suv","suv","2seater","2seater","2seater","suv","suv","midsize","midsize","midsize","minivan","minivan","minivan","minivan","minivan","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","pickup","pickup","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","subcompact","subcompact","subcompact","subcompact","subcompact","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","suv","suv","midsize","midsize","suv","suv","suv","suv","compact","compact","compact","compact","suv","suv","midsize","midsize","midsize","compact","compact","compact","compact","compact","suv","pickup","pickup","pickup","compact","compact","compact","compact","compact","compact","subcompact","subcompact","midsize","midsize","midsize"]},"type":"data.frame","container":"svg","options":{"label":"manufacturer","value":"hwy","sort":"none","bgcol":"white","valueTicks":null,"labelTicks":null,"valueFontSize":12,"labelFontSize":12,"font":"Verdana, Geneva, Tahoma, sans-serif","valueTitle":null,"valueTitleFontSize":14,"labelTitle":null,"labelTitleFontSize":14,"title":null,"titleFontSize":20,"lineStroke":"maroon","lineStrokeWidth":4,"circleStroke":"orange","circleStrokeWidth":1,"circleFill":"red","circleRadius":5,"axisCol":"black","width":null,"height":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/horzlollipop.js */\n// Setting the margin object\nlet margin = {\n  top: 50,\n  right: 20,\n  bottom: 50,\n  left: 100,\n};\n\n// Sorting the data\n\ndata.sort(function (a, b) {\n  if (options.sort === \"none\") {\n    return null;\n  } else if (options.sort === \"ascending\") {\n    return d3.ascending(a[options.value], b[options.value]);\n  } else {\n    return d3.descending(a[options.value], b[options.value]);\n  }\n});\n\nlet yScale = d3\n  .scaleBand()\n  .domain(\n    data.map(function (d) {\n      return d[options.label];\n    })\n  )\n  .range([margin.bottom, height - margin.top])\n  .padding(1);\n\nlet xScale = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, (d) => d[options.value])])\n  .range([margin.left, width - margin.right]);\n\nxAx = d3.axisBottom(xScale).ticks(options.valueTicks);\nyAx = d3.axisLeft(yScale).ticks(options.labelTicks);\n\ngx = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xAx)\n  .attr(\"font-size\", options.valueFontSize);\n\ngy = svg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yAx)\n  .attr(\"font-size\", options.labelFontSize);\n\n// Removing the y and x axis line\ngy.call((g) => g.selectAll(\"line\").remove());\ngx.call((g) => g.select(\".domain\").remove());\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 1) + \")\")\n  .attr(\"dx\", \"0em\")\n  .attr(\"dy\", \"-0.4em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.valueTitleFontSize)\n  .text(options.valueTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"1em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.labelTitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.labelTitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the lines\n\nsvg.style(\"background-color\", options.bgcol);\n\nsvg\n  .selectAll(\"myline\")\n  .data(data)\n  .enter()\n  .append(\"line\")\n  .attr(\"x1\", (d) => xScale(d[options.value]))\n  .attr(\"y1\", (d) => yScale(d[options.label]))\n  .attr(\"x2\", xScale(0))\n  .attr(\"y2\", (d) => yScale(d[options.label]))\n  .attr(\"stroke\", options.lineStroke)\n  .attr(\"stroke-width\", options.lineStrokeWidth);\n\n// Rendering the circles\nsvg\n  .selectAll(\"mycircle\")\n  .data(data)\n  .enter()\n  .append(\"circle\")\n  .attr(\"cx\", (d) => xScale(d[options.value]))\n  .attr(\"cy\", (d) => yScale(d[options.label]))\n  .attr(\"r\", options.circleRadius)\n  .style(\"fill\", options.circleFill)\n  .attr(\"stroke\", options.circleStroke)\n  .attr(\"stroke-width\", options.circleStrokeWidth);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="piechart" class="section level1">
<h1 class="hasAnchor">
<a href="#piechart" class="anchor"></a><code>pieChart()</code>
</h1>
<p>Pie charts and donut charts are pretty straightforward to set up. We’ll use a sample from the <code>starwars</code> data frame to plot a simple pie chart.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># starwars is part of the dplyr data frame</span>
<span class="va">mini_starwars</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op">%&gt;%</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">mass</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># getting 5 random values</span>

<span class="fu"><a href="../reference/pieChart.html">pieChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">mini_starwars</span>,
  value <span class="op">=</span> <span class="st">"mass"</span>,
  label <span class="op">=</span> <span class="st">"name"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-75a229a75daf7ad68a73" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-75a229a75daf7ad68a73">{"x":{"data":{"name":["Dud Bolt","Dexter Jettster","Anakin Skywalker","Han Solo","Palpatine"],"height":[94,198,188,180,170],"mass":[45,102,84,80,75],"hair_color":["none","none","blond","brown","grey"],"skin_color":["blue, grey","brown","fair","fair","pale"],"eye_color":["yellow","yellow","blue","brown","yellow"],"birth_year":[null,null,41.9,29,82],"sex":["male","male","male","male","male"],"gender":["masculine","masculine","masculine","masculine","masculine"],"homeworld":["Vulpter","Ojom","Tatooine","Corellia","Naboo"],"species":["Vulptereen","Besalisk","Human","Human","Human"],"films":["The Phantom Menace","Attack of the Clones",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["The Empire Strikes Back","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi"]],"vehicles":[[],[],["Zephyr-G swoop bike","XJ-6 airspeeder"],[],[]],"starships":[[],[],["Trade Federation cruiser","Jedi Interceptor","Naboo fighter"],["Millennium Falcon","Imperial shuttle"],[]]},"type":"data.frame","container":"svg","options":{"value":"mass","label":"name","title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"titleFontSize":22,"bgcol":"white","opacity":1,"colorCategory":"Paired","innerRadius":0,"outerRadius":"auto","labelHeight":18,"padRadius":0,"padAngle":null,"cornerRadius":0,"labelFont":"sans-serif"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/piechart.js */\nlet margin = 20;\n\nlet pie = d3.pie().value((d) => d[options.value]);\n\nlet radius = Math.min(width, height) / 2 - margin;\n\nif (options.outerRadius != \"auto\") {\n  radius = options.outerRadius;\n}\n\nlet pieData = pie(data);\n\nlet colorCategory = \"scheme\" + options.colorCategory;\n\nlet colorSeq = d3.scaleOrdinal(d3[colorCategory]);\n\nlet arc = d3\n  .arc()\n  .innerRadius(options.innerRadius)\n  .outerRadius(radius)\n  .padRadius(options.padRadius)\n  .padAngle(options.padAngle)\n  .cornerRadius(options.cornerRadius);\n\nlet labelHeight = options.labelHeight;\n\nsvg\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius},${radius})`)\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"path\")\n  .attr(\"d\", arc)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]))\n  .attr(\"opacity\", options.opacity)\n  .append('title')\n  .text(d => d.data[options.value])\n\nconst legend = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius * 2 + 20},0)`);\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"rect\")\n  .attr(\"y\", (d) => 5 + labelHeight * d.index * 1.8)\n  .attr(\"width\", labelHeight)\n  .attr(\"height\", labelHeight)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]));\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"text\")\n  .text((d) => d.data[options.label])\n  .attr(\"x\", labelHeight * 1.2)\n  .attr(\"y\", (d) => labelHeight * d.index * 1.8 + labelHeight)\n  .style(\"font-family\", options.labelFont)\n  .style(\"font-size\", `${labelHeight}px`);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", radius)\n  .attr(\"y\", radius * 2 + 30)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>Using the <code>padRadius</code>, <code>padAngle</code> and <code>cornerRadius</code> parameters, one can get fanciers pie charts:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pieChart.html">pieChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">mini_starwars</span>,
  value <span class="op">=</span> <span class="st">"mass"</span>,
  label <span class="op">=</span> <span class="st">"name"</span>,
  padRadius <span class="op">=</span> <span class="fl">200</span>,
  padAngle <span class="op">=</span> <span class="fl">0.1</span>,
  cornerRadius <span class="op">=</span> <span class="fl">50</span>,
  innerRadius <span class="op">=</span> <span class="fl">10</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-94873d25e9c6e645cdd8" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-94873d25e9c6e645cdd8">{"x":{"data":{"name":["Dud Bolt","Dexter Jettster","Anakin Skywalker","Han Solo","Palpatine"],"height":[94,198,188,180,170],"mass":[45,102,84,80,75],"hair_color":["none","none","blond","brown","grey"],"skin_color":["blue, grey","brown","fair","fair","pale"],"eye_color":["yellow","yellow","blue","brown","yellow"],"birth_year":[null,null,41.9,29,82],"sex":["male","male","male","male","male"],"gender":["masculine","masculine","masculine","masculine","masculine"],"homeworld":["Vulpter","Ojom","Tatooine","Corellia","Naboo"],"species":["Vulptereen","Besalisk","Human","Human","Human"],"films":["The Phantom Menace","Attack of the Clones",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["The Empire Strikes Back","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi"]],"vehicles":[[],[],["Zephyr-G swoop bike","XJ-6 airspeeder"],[],[]],"starships":[[],[],["Trade Federation cruiser","Jedi Interceptor","Naboo fighter"],["Millennium Falcon","Imperial shuttle"],[]]},"type":"data.frame","container":"svg","options":{"value":"mass","label":"name","title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"titleFontSize":22,"bgcol":"white","opacity":1,"colorCategory":"Paired","innerRadius":10,"outerRadius":"auto","labelHeight":18,"padRadius":200,"padAngle":0.1,"cornerRadius":50,"labelFont":"sans-serif"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/piechart.js */\nlet margin = 20;\n\nlet pie = d3.pie().value((d) => d[options.value]);\n\nlet radius = Math.min(width, height) / 2 - margin;\n\nif (options.outerRadius != \"auto\") {\n  radius = options.outerRadius;\n}\n\nlet pieData = pie(data);\n\nlet colorCategory = \"scheme\" + options.colorCategory;\n\nlet colorSeq = d3.scaleOrdinal(d3[colorCategory]);\n\nlet arc = d3\n  .arc()\n  .innerRadius(options.innerRadius)\n  .outerRadius(radius)\n  .padRadius(options.padRadius)\n  .padAngle(options.padAngle)\n  .cornerRadius(options.cornerRadius);\n\nlet labelHeight = options.labelHeight;\n\nsvg\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius},${radius})`)\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"path\")\n  .attr(\"d\", arc)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]))\n  .attr(\"opacity\", options.opacity)\n  .append('title')\n  .text(d => d.data[options.value])\n\nconst legend = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius * 2 + 20},0)`);\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"rect\")\n  .attr(\"y\", (d) => 5 + labelHeight * d.index * 1.8)\n  .attr(\"width\", labelHeight)\n  .attr(\"height\", labelHeight)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]));\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"text\")\n  .text((d) => d.data[options.label])\n  .attr(\"x\", labelHeight * 1.2)\n  .attr(\"y\", (d) => labelHeight * d.index * 1.8 + labelHeight)\n  .style(\"font-family\", options.labelFont)\n  .style(\"font-size\", `${labelHeight}px`);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", radius)\n  .attr(\"y\", radius * 2 + 30)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>If you need a donut chart, you just need to play with the <code>innerRadius</code> parameter:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pieChart.html">pieChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">mini_starwars</span>,
  value <span class="op">=</span> <span class="st">"mass"</span>,
  label <span class="op">=</span> <span class="st">"name"</span>,
  innerRadius <span class="op">=</span> <span class="fl">120</span>,
  cornerRadius <span class="op">=</span> <span class="fl">20</span>,
  title <span class="op">=</span> <span class="st">"5 Starwars characters ranked by their mass"</span>,
  titleFontSize <span class="op">=</span> <span class="fl">16</span>,
  bgcol <span class="op">=</span> <span class="st">"yellow"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-72aace843f1b98214b15" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-72aace843f1b98214b15">{"x":{"data":{"name":["Dud Bolt","Dexter Jettster","Anakin Skywalker","Han Solo","Palpatine"],"height":[94,198,188,180,170],"mass":[45,102,84,80,75],"hair_color":["none","none","blond","brown","grey"],"skin_color":["blue, grey","brown","fair","fair","pale"],"eye_color":["yellow","yellow","blue","brown","yellow"],"birth_year":[null,null,41.9,29,82],"sex":["male","male","male","male","male"],"gender":["masculine","masculine","masculine","masculine","masculine"],"homeworld":["Vulpter","Ojom","Tatooine","Corellia","Naboo"],"species":["Vulptereen","Besalisk","Human","Human","Human"],"films":["The Phantom Menace","Attack of the Clones",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["The Empire Strikes Back","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi"]],"vehicles":[[],[],["Zephyr-G swoop bike","XJ-6 airspeeder"],[],[]],"starships":[[],[],["Trade Federation cruiser","Jedi Interceptor","Naboo fighter"],["Millennium Falcon","Imperial shuttle"],[]]},"type":"data.frame","container":"svg","options":{"value":"mass","label":"name","title":"5 Starwars characters ranked by their mass","font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"titleFontSize":16,"bgcol":"yellow","opacity":1,"colorCategory":"Paired","innerRadius":120,"outerRadius":"auto","labelHeight":18,"padRadius":0,"padAngle":null,"cornerRadius":20,"labelFont":"sans-serif"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/piechart.js */\nlet margin = 20;\n\nlet pie = d3.pie().value((d) => d[options.value]);\n\nlet radius = Math.min(width, height) / 2 - margin;\n\nif (options.outerRadius != \"auto\") {\n  radius = options.outerRadius;\n}\n\nlet pieData = pie(data);\n\nlet colorCategory = \"scheme\" + options.colorCategory;\n\nlet colorSeq = d3.scaleOrdinal(d3[colorCategory]);\n\nlet arc = d3\n  .arc()\n  .innerRadius(options.innerRadius)\n  .outerRadius(radius)\n  .padRadius(options.padRadius)\n  .padAngle(options.padAngle)\n  .cornerRadius(options.cornerRadius);\n\nlet labelHeight = options.labelHeight;\n\nsvg\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius},${radius})`)\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"path\")\n  .attr(\"d\", arc)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]))\n  .attr(\"opacity\", options.opacity)\n  .append('title')\n  .text(d => d.data[options.value])\n\nconst legend = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${radius * 2 + 20},0)`);\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"rect\")\n  .attr(\"y\", (d) => 5 + labelHeight * d.index * 1.8)\n  .attr(\"width\", labelHeight)\n  .attr(\"height\", labelHeight)\n  .attr(\"fill\", (d) => colorSeq(d.data[options.label]));\n\nlegend\n  .selectAll(null)\n  .data(pieData)\n  .enter()\n  .append(\"text\")\n  .text((d) => d.data[options.label])\n  .attr(\"x\", labelHeight * 1.2)\n  .attr(\"y\", (d) => labelHeight * d.index * 1.8 + labelHeight)\n  .style(\"font-family\", options.labelFont)\n  .style(\"font-size\", `${labelHeight}px`);\n\n// Rendering the chart title\nsvg\n  .append(\"text\")\n  .attr(\"x\", radius)\n  .attr(\"y\", radius * 2 + 30)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="linechart" class="section level1">
<h1 class="hasAnchor">
<a href="#linechart" class="anchor"></a><code>lineChart()</code>
</h1>
<p>The <code><a href="../reference/lineChart.html">lineChart()</a></code> function is used to plot time series data. The use must provide a <code>date</code> variable that has the <code>yyyy-mm-dd</code> format. In the following example, we’ll use the <code>Air Passenger</code> built-in <code>ts</code> data and convert it to a classical data frame:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 1. converting AirPassengers to a tidy data frame</span>
<span class="va">airpassengers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  passengers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span>,
  date<span class="op">=</span> <span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># 2. plotting the line chart</span>
<span class="fu"><a href="../reference/lineChart.html">lineChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-effdec236ec8b6dc8471" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-effdec236ec8b6dc8471">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","curve":"curveLinear","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1.5,"width":null,"height":null,"id":["function (.variables, drop = FALSE) ","{","    lifecycle::deprecate_stop(\"0.5.0\", \"id()\", \"vctrs::vec_group_id()\")","}"],"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/linechart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nfunction isItNegative() {\n  if(ymin < 0) {\n    return ymin - (ymin * 10/100)\n  } else {\n    return 0\n  }\n}\n\nlet y = d3\n  .scaleLinear()\n  .domain([isItNegative(), ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet line = d3\n  .line()\n  .x((d) => x(new Date(d[options.x])))\n  .y((d) => y(d[options.y]))\n  .curve(d3[options.curve])\n\n  let clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", line);\n\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can modify the line interpolation using the <code>curve</code> parameter:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lineChart.html">lineChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>,
  curve <span class="op">=</span> <span class="st">"curveStep"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-fe6c5be0cefcdf5c9fa9" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-fe6c5be0cefcdf5c9fa9">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","curve":"curveStep","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1.5,"width":null,"height":null,"id":["function (.variables, drop = FALSE) ","{","    lifecycle::deprecate_stop(\"0.5.0\", \"id()\", \"vctrs::vec_group_id()\")","}"],"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/linechart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nfunction isItNegative() {\n  if(ymin < 0) {\n    return ymin - (ymin * 10/100)\n  } else {\n    return 0\n  }\n}\n\nlet y = d3\n  .scaleLinear()\n  .domain([isItNegative(), ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet line = d3\n  .line()\n  .x((d) => x(new Date(d[options.x])))\n  .y((d) => y(d[options.y]))\n  .curve(d3[options.curve])\n\n  let clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", line);\n\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lineChart.html">lineChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>,
  curve <span class="op">=</span> <span class="st">"curveCardinal"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-914ef1d4d64943d40f23" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-914ef1d4d64943d40f23">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","curve":"curveCardinal","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1.5,"width":null,"height":null,"id":["function (.variables, drop = FALSE) ","{","    lifecycle::deprecate_stop(\"0.5.0\", \"id()\", \"vctrs::vec_group_id()\")","}"],"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/linechart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nfunction isItNegative() {\n  if(ymin < 0) {\n    return ymin - (ymin * 10/100)\n  } else {\n    return 0\n  }\n}\n\nlet y = d3\n  .scaleLinear()\n  .domain([isItNegative(), ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet line = d3\n  .line()\n  .x((d) => x(new Date(d[options.x])))\n  .y((d) => y(d[options.y]))\n  .curve(d3[options.curve])\n\n  let clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", line);\n\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lineChart.html">lineChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>,
  curve <span class="op">=</span> <span class="st">"curveBasis"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-d13010663890ea9a873c" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-d13010663890ea9a873c">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","curve":"curveBasis","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1.5,"width":null,"height":null,"id":["function (.variables, drop = FALSE) ","{","    lifecycle::deprecate_stop(\"0.5.0\", \"id()\", \"vctrs::vec_group_id()\")","}"],"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/linechart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nfunction isItNegative() {\n  if(ymin < 0) {\n    return ymin - (ymin * 10/100)\n  } else {\n    return 0\n  }\n}\n\nlet y = d3\n  .scaleLinear()\n  .domain([isItNegative(), ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet line = d3\n  .line()\n  .x((d) => x(new Date(d[options.x])))\n  .y((d) => y(d[options.y]))\n  .curve(d3[options.curve])\n\n  let clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", line);\n\n\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="animlinechart" class="section level1">
<h1 class="hasAnchor">
<a href="#animlinechart" class="anchor"></a><code>animLineChart()</code>
</h1>
<p>Heavily inspired from <a href="https://observablehq.com/@jurestabuc/animated-line-chart">Jure Stabuc’s example</a>, the <code><a href="../reference/animLineChart.html">animLineChart()</a></code> function create an empty SVG but when each time you click on it a line chart animation starts. Note that the line lasts after the end of the animation. Go ahead, click on the empty graphic below:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/animLineChart.html">animLineChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>,
  duration <span class="op">=</span> <span class="fl">10000</span>, <span class="co"># in milliseconds (10 seconds)</span>
  curve <span class="op">=</span> <span class="st">"curveCardinal"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-01b1ecd5554407c19b91" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-01b1ecd5554407c19b91">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","curve":"curveCardinal","duration":10000,"xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"crimson","strokeWidth":1.5,"width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/animatedlinechart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\nfunction tweenDash() {\n  const l = this.getTotalLength(),\n    i = d3.interpolateString(\"0,\" + l, l + \",\" + l);\n  return function (t) {\n    return i(t);\n  };\n}\n\nfunction transition(path) {\n  path\n    .transition()\n    .duration(options.duration)\n    .ease(d3.easeLinear)\n    .attrTween(\"stroke-dasharray\", tweenDash)\n    .on(\"end\", () => {\n      d3.select(this).call(transition);\n    });\n}\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nfunction isItNegative() {\n  if (ymin < 0) {\n    return ymin - (ymin * 10) / 100;\n  } else {\n    return 0;\n  }\n}\n\nlet y = d3\n  .scaleLinear()\n  .domain([isItNegative(), ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet line = d3\n  .line()\n  .x((d) => x(new Date(d[options.x])))\n  .y((d) => y(d[options.y]))\n  .curve(d3[options.curve]);\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .attr(\"class\", \"line-chart\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\");\n\nsvg.on(\"click\", function () {\n  d3.select(this).select(\"path.line-chart\").attr(\"d\", line).call(transition);\n});\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="areachart" class="section level1">
<h1 class="hasAnchor">
<a href="#areachart" class="anchor"></a><code>areaChart()</code>
</h1>
<p><code><a href="../reference/areaChart.html">areaChart()</a></code> works similarly except that instead of a line you get an area.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 1. converting AirPassengers to a tidy data frame</span>
<span class="va">airpassengers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  passengers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span>,
  date<span class="op">=</span> <span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># 2. plotting the area chart</span>
<span class="fu"><a href="../reference/areaChart.html">areaChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  y <span class="op">=</span> <span class="st">"passengers"</span>,
  fill <span class="op">=</span> <span class="st">"purple"</span>,
  bgcol <span class="op">=</span> <span class="st">"white"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-7174c23a6b5e6f555dc0" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-7174c23a6b5e6f555dc0">{"x":{"data":{"passengers":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","y":"passengers","fill":"purple","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":null,"strokeWidth":null,"width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"white","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/areachart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymin = d3.min(data, (d) => d[options.y]);\nlet ymax = d3.max(data, (d) => d[options.y]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\nlet y = d3\n  .scaleLinear()\n  .domain([0, ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the area chart\n\nlet area = d3\n  .area()\n  .x((d) => x(new Date(d[options.x])))\n  .y0(function () {\n    return y.range()[0];\n  })\n  .y1((d) => y(d[options.y]));\n\n  let clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n  \nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", options.fill)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", area);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="areaband" class="section level1">
<h1 class="hasAnchor">
<a href="#areaband" class="anchor"></a><code>areaBand()</code>
</h1>
<p><code><a href="../reference/areaBand.html">areaBand()</a></code> lets you plot a filled area between two y-values. For the sake of the example, let’s create an additional column <code>passengers_upper</code> that has an additional 40 passengers for each observation:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">airpassengers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  passengers_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span>,
  passengers_upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span> <span class="op">+</span> <span class="fl">40</span>,
  date<span class="op">=</span> <span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/areaBand.html">areaBand</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">airpassengers</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  yLower <span class="op">=</span> <span class="st">"passengers_lower"</span>,
  yUpper <span class="op">=</span> <span class="st">"passengers_upper"</span>,
  fill <span class="op">=</span> <span class="st">"yellow"</span>,
  stroke <span class="op">=</span> <span class="st">"black"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-5558a3c5e372ba0bb532" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5558a3c5e372ba0bb532">{"x":{"data":{"passengers_lower":[112,118,132,129,121,135,148,148,136,119,104,118,115,126,141,135,125,149,170,170,158,133,114,140,145,150,178,163,172,178,199,199,184,162,146,166,171,180,193,181,183,218,230,242,209,191,172,194,196,196,236,235,229,243,264,272,237,211,180,201,204,188,235,227,234,264,302,293,259,229,203,229,242,233,267,269,270,315,364,347,312,274,237,278,284,277,317,313,318,374,413,405,355,306,271,306,315,301,356,348,355,422,465,467,404,347,305,336,340,318,362,348,363,435,491,505,404,359,310,337,360,342,406,396,420,472,548,559,463,407,362,405,417,391,419,461,472,535,622,606,508,461,390,432],"passengers_upper":[152,158,172,169,161,175,188,188,176,159,144,158,155,166,181,175,165,189,210,210,198,173,154,180,185,190,218,203,212,218,239,239,224,202,186,206,211,220,233,221,223,258,270,282,249,231,212,234,236,236,276,275,269,283,304,312,277,251,220,241,244,228,275,267,274,304,342,333,299,269,243,269,282,273,307,309,310,355,404,387,352,314,277,318,324,317,357,353,358,414,453,445,395,346,311,346,355,341,396,388,395,462,505,507,444,387,345,376,380,358,402,388,403,475,531,545,444,399,350,377,400,382,446,436,460,512,588,599,503,447,402,445,457,431,459,501,512,575,662,646,548,501,430,472],"date":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"]},"type":"data.frame","container":"svg","options":{"x":"date","yLower":"passengers_lower","yUpper":"passengers_upper","fill":"yellow","xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","stroke":"black","strokeWidth":null,"width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black"},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/areaband.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 30,\n  bottom: 40,\n};\n\n// Setting the min and max of the y variable\nlet ymax = d3.max(data, (d) => d[options.yUpper]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\nlet y = d3\n  .scaleLinear()\n  .domain([0, ymax])\n  .range([height - margin.top, margin.bottom])\n  .nice();\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 0 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the scatter plot\n\nlet areaBand = d3\n  .area()\n  .x((d) => x(new Date(d[options.x])))\n  .y0((d) => y(d[options.yLower]))\n  .y1((d) => y(d[options.yUpper]));\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", clipPathId)\n    .append(\"rect\")\n    .attr(\"x\", margin.left + 1)\n    .attr(\"y\", margin.top)\n    .attr(\"width\", width - margin.left)\n    .attr(\"height\", height - margin.bottom);\n  \nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"path\")\n  .datum(data)\n  .attr(\"fill\", options.fill)\n  .attr(\"stroke\", options.stroke)\n  .attr(\"stroke-width\", options.strokeWidth)\n  .attr(\"stroke-linejoin\", \"round\")\n  .attr(\"stroke-linecap\", \"round\")\n  .attr(\"d\", areaBand);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="stackedareachart" class="section level1">
<h1 class="hasAnchor">
<a href="#stackedareachart" class="anchor"></a><code>stackedAreaChart()</code>
</h1>
<p>This function allows you to create a stacked area chart. You need two components:</p>
<ul>
<li>A data frame in wide format (see an example below). If it’s in wide format, you can still use <code>pivot_wider()</code> from the <code>tidyr</code> package to make wider.</li>
<li>A date variable in <code>yyyy-mm-dd</code> format that will plotted in the x-axis.</li>
</ul>
<p>Let’s work with the following data frame (shortened) provided by <a href="https://observablehq.com/@d3/stacked-area-chart">Mike Bostock in his stacked area chart example</a>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"2000-01-01"</span>, <span class="st">"2000-02-01"</span>, <span class="st">"2000-03-01"</span>, <span class="st">"2000-04-01"</span>,
    <span class="st">"2000-05-01"</span>, <span class="st">"2000-06-01"</span>, <span class="st">"2000-07-01"</span>,
    <span class="st">"2000-08-01"</span>, <span class="st">"2000-09-01"</span>, <span class="st">"2000-10-01"</span>
  <span class="op">)</span>,
  Trade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">2000</span>,<span class="fl">1023</span>, <span class="fl">983</span>, <span class="fl">2793</span>, <span class="fl">1821</span>, <span class="fl">1837</span>, <span class="fl">1792</span>, <span class="fl">1853</span>, <span class="fl">791</span>, <span class="fl">739</span>
  <span class="op">)</span>,
  Manufacturing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">734</span>, <span class="fl">694</span>, <span class="fl">739</span>, <span class="fl">736</span>, <span class="fl">685</span>, <span class="fl">621</span>, <span class="fl">708</span>, <span class="fl">685</span>, <span class="fl">667</span>, <span class="fl">693</span>
  <span class="op">)</span>,
  Leisure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">1782</span>, <span class="fl">1779</span>, <span class="fl">1789</span>, <span class="fl">658</span>, <span class="fl">675</span>, <span class="fl">833</span>, <span class="fl">786</span>, <span class="fl">675</span>, <span class="fl">636</span>, <span class="fl">691</span>
  <span class="op">)</span>,
  Agriculture <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">655</span>, <span class="fl">587</span>,<span class="fl">623</span>, <span class="fl">517</span>, <span class="fl">561</span>, <span class="fl">2545</span>, <span class="fl">636</span>, <span class="fl">584</span>, <span class="fl">559</span>, <span class="fl">2504</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="va">data</span>
<span class="co">#&gt;          date Trade Manufacturing Leisure Agriculture</span>
<span class="co">#&gt; 1  2000-01-01  2000           734    1782         655</span>
<span class="co">#&gt; 2  2000-02-01  1023           694    1779         587</span>
<span class="co">#&gt; 3  2000-03-01   983           739    1789         623</span>
<span class="co">#&gt; 4  2000-04-01  2793           736     658         517</span>
<span class="co">#&gt; 5  2000-05-01  1821           685     675         561</span>
<span class="co">#&gt; 6  2000-06-01  1837           621     833        2545</span>
<span class="co">#&gt; 7  2000-07-01  1792           708     786         636</span>
<span class="co">#&gt; 8  2000-08-01  1853           685     675         584</span>
<span class="co">#&gt; 9  2000-09-01   791           667     636         559</span>
<span class="co">#&gt; 10 2000-10-01   739           693     691        2504</span></code></pre></div>
<p>Note that when running <code><a href="../reference/stackedAreaChart.html">stackedAreaChart()</a></code> all the variables available within the considered data frame will be plotted. If you want to restrict the plotting to only specific variables, just drop the unneeded columns:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/stackedAreaChart.html">stackedAreaChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">data</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  legendTextSize <span class="op">=</span> <span class="fl">14</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-5409d3d50ce53159d0e1" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5409d3d50ce53159d0e1">{"x":{"data":{"date":["2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01"],"Trade":[2000,1023,983,2793,1821,1837,1792,1853,791,739],"Manufacturing":[734,694,739,736,685,621,708,685,667,693],"Leisure":[1782,1779,1789,658,675,833,786,675,636,691],"Agriculture":[655,587,623,517,561,2545,636,584,559,2504]},"type":"data.frame","container":"svg","options":{"x":"date","colorCategory":"Category10","curve":"curveLinear","stroke":null,"strokeWidth":1.5,"xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"#CAD0D3","opacity":1,"axisCol":"black","columnNames":["Trade","Manufacturing","Leisure","Agriculture"],"legendBoxSize":18,"legendTextSize":14},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/stackedareachart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 120,\n  bottom: 40,\n};\n\nlet dataColumns = options.columnNames;\n\nlet color = d3\n  .scaleOrdinal()\n  .domain(dataColumns)\n  .range(d3[\"scheme\" + options.colorCategory]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nlet series = d3.stack().keys(dataColumns)(data);\n\nlet y = d3\n  .scaleLinear()\n  .domain([0, d3.max(series, (d) => d3.max(d, (d) => d[1]))])\n  .range([height - margin.top, margin.bottom]);\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the area chart\n\n// first we need a clipPath\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nlet area = d3\n  .area()\n  .x((d) => x(new Date(d.data[options.x])))\n  .y0((d) => y(d[0]))\n  .y1((d) => y(d[1]))\n  .curve(d3[options.curve]);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .selectAll(\"path\")\n  .data(series)\n  .enter()\n  .append(\"path\")\n  .attr(\"fill\", ({ key }) => color(key))\n  .attr(\"d\", area)\n  .style(\"stroke\", options.stroke)\n  .style(\"stroke-width\", options.strokeWidth)\n  .append(\"title\")\n  .text(({ key }) => key);\n\n// Adding legends\n\nlet size = options.legendBoxSize;\nsvg\n  .selectAll(\"myrectangles\")\n  .data(dataColumns.reverse())\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", width - margin.right + 5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5))\n  .attr(\"width\", size)\n  .attr(\"height\", size)\n  .style(\"fill\", (d) => color(d));\n\nsvg\n  .selectAll(\"mylabels\")\n  .data(dataColumns)\n  .enter()\n  .append(\"text\")\n  .attr(\"x\", width - margin.right + size * 1.5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5) + size / 2 + 1)\n  .style(\"fill\", (d) => color(d))\n  .text((d) => d)\n  .attr(\"text-anchor\", \"left\")\n  .style(\"alignment-baseline\", \"middle\")\n  .style(\"fill\", options.axisCol)\n  .style(\"font-size\", `${options.legendTextSize}px`);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can modify the color scheme using the <code>colorCategory</code> parameter:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/stackedAreaChart.html">stackedAreaChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">data</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  legendTextSize <span class="op">=</span> <span class="fl">14</span>,
  curve <span class="op">=</span> <span class="st">"curveCardinal"</span>,
  colorCategory <span class="op">=</span> <span class="st">"Accent"</span>,
  bgcol <span class="op">=</span> <span class="st">"white"</span>,
  stroke <span class="op">=</span> <span class="st">"black"</span>,
  strokeWidth <span class="op">=</span> <span class="fl">1</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-5c34ade71d17947bcbff" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5c34ade71d17947bcbff">{"x":{"data":{"date":["2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01"],"Trade":[2000,1023,983,2793,1821,1837,1792,1853,791,739],"Manufacturing":[734,694,739,736,685,621,708,685,667,693],"Leisure":[1782,1779,1789,658,675,833,786,675,636,691],"Agriculture":[655,587,623,517,561,2545,636,584,559,2504]},"type":"data.frame","container":"svg","options":{"x":"date","colorCategory":"Accent","curve":"curveCardinal","stroke":"black","strokeWidth":1,"xticks":null,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"white","opacity":1,"axisCol":"black","columnNames":["Trade","Manufacturing","Leisure","Agriculture"],"legendBoxSize":18,"legendTextSize":14},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/stackedareachart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 120,\n  bottom: 40,\n};\n\nlet dataColumns = options.columnNames;\n\nlet color = d3\n  .scaleOrdinal()\n  .domain(dataColumns)\n  .range(d3[\"scheme\" + options.colorCategory]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nlet series = d3.stack().keys(dataColumns)(data);\n\nlet y = d3\n  .scaleLinear()\n  .domain([0, d3.max(series, (d) => d3.max(d, (d) => d[1]))])\n  .range([height - margin.top, margin.bottom]);\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the area chart\n\n// first we need a clipPath\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nlet area = d3\n  .area()\n  .x((d) => x(new Date(d.data[options.x])))\n  .y0((d) => y(d[0]))\n  .y1((d) => y(d[1]))\n  .curve(d3[options.curve]);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .selectAll(\"path\")\n  .data(series)\n  .enter()\n  .append(\"path\")\n  .attr(\"fill\", ({ key }) => color(key))\n  .attr(\"d\", area)\n  .style(\"stroke\", options.stroke)\n  .style(\"stroke-width\", options.strokeWidth)\n  .append(\"title\")\n  .text(({ key }) => key);\n\n// Adding legends\n\nlet size = options.legendBoxSize;\nsvg\n  .selectAll(\"myrectangles\")\n  .data(dataColumns.reverse())\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", width - margin.right + 5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5))\n  .attr(\"width\", size)\n  .attr(\"height\", size)\n  .style(\"fill\", (d) => color(d));\n\nsvg\n  .selectAll(\"mylabels\")\n  .data(dataColumns)\n  .enter()\n  .append(\"text\")\n  .attr(\"x\", width - margin.right + size * 1.5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5) + size / 2 + 1)\n  .style(\"fill\", (d) => color(d))\n  .text((d) => d)\n  .attr(\"text-anchor\", \"left\")\n  .style(\"alignment-baseline\", \"middle\")\n  .style(\"fill\", options.axisCol)\n  .style(\"font-size\", `${options.legendTextSize}px`);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/stackedAreaChart.html">stackedAreaChart</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">data</span>,
  x <span class="op">=</span> <span class="st">"date"</span>,
  legendTextSize <span class="op">=</span> <span class="fl">14</span>,
  curve <span class="op">=</span> <span class="st">"curveBasis"</span>,
  colorCategory <span class="op">=</span> <span class="st">"Set3"</span>,
  bgcol <span class="op">=</span> <span class="st">"black"</span>,
  axisCol <span class="op">=</span> <span class="st">"white"</span>,
  xticks <span class="op">=</span> <span class="fl">4</span>,
  stroke <span class="op">=</span> <span class="st">"black"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-c0308820389da77ebf1e" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-c0308820389da77ebf1e">{"x":{"data":{"date":["2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01"],"Trade":[2000,1023,983,2793,1821,1837,1792,1853,791,739],"Manufacturing":[734,694,739,736,685,621,708,685,667,693],"Leisure":[1782,1779,1789,658,675,833,786,675,636,691],"Agriculture":[655,587,623,517,561,2545,636,584,559,2504]},"type":"data.frame","container":"svg","options":{"x":"date","colorCategory":"Set3","curve":"curveBasis","stroke":"black","strokeWidth":1.5,"xticks":4,"yticks":null,"xtitle":null,"ytitle":null,"title":null,"font":"Verdana, Geneva, Tahoma, sans-serif","width":null,"height":null,"xtitleFontSize":16,"ytitleFontSize":16,"titleFontSize":22,"bgcol":"black","opacity":1,"axisCol":"white","columnNames":["Trade","Manufacturing","Leisure","Agriculture"],"legendBoxSize":18,"legendTextSize":14},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/stackedareachart.js */\n// Setting the margin object\nmargin = {\n  top: 40,\n  left: 50,\n  right: 120,\n  bottom: 40,\n};\n\nlet dataColumns = options.columnNames;\n\nlet color = d3\n  .scaleOrdinal()\n  .domain(dataColumns)\n  .range(d3[\"scheme\" + options.colorCategory]);\n\n// Setting the scale of the x variable\n\nlet x = d3\n  .scaleUtc()\n  .domain(d3.extent(data, (d) => new Date(d[options.x])))\n  .range([margin.left, width - margin.right]);\n\n// Setting the scale of the y variable\n\nlet series = d3.stack().keys(dataColumns)(data);\n\nlet y = d3\n  .scaleLinear()\n  .domain([0, d3.max(series, (d) => d3.max(d, (d) => d[1]))])\n  .range([height - margin.top, margin.bottom]);\n\n// Setting the x-axis\nxS = d3.axisBottom(x).ticks(options.xticks);\n\n// Setting the y-axis\nyS = d3.axisLeft(y).ticks(options.yticks);\n\n// Rendering the x-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + (height - margin.bottom) + \")\")\n  .call(xS);\n\n// Rendering the y-axis\nsvg\n  .append(\"g\")\n  .attr(\"transform\", \"translate(\" + margin.left + \", 0)\")\n  .call(yS);\n\n// Rendering the x-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \" ,\" + (height - 5) + \")\")\n  .attr(\"dx\", \"0em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-family\", options.font)\n  .style(\"font-size\", options.xtitleFontSize)\n  .text(options.xtitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the y-axis title\nsvg\n  .append(\"text\")\n  .attr(\"transform\", \"translate(\" + 2 + \" ,\" + height / 2 + \") rotate(-90)\")\n  .attr(\"dy\", \"0.8em\")\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle)\n  .style(\"fill\", options.axisCol);\n\n// Rendering the chart title\n\nsvg\n  .append(\"text\")\n  .attr(\"x\", width / 2)\n  .attr(\"y\", margin.top / 2 + 5)\n  .attr(\"text-anchor\", \"middle\")\n  .attr(\"dx\", \"0em\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title)\n  .style(\"fill\", options.axisCol);\n\n// Modifying the color of the ticks and labels\nsvg.selectAll(\".tick line\").attr(\"stroke\", options.axisCol);\nsvg.selectAll(\".tick text\").style(\"fill\", options.axisCol);\nsvg.selectAll(\"path.domain\").attr(\"stroke\", options.axisCol);\n\n// Rendering the area chart\n\n// first we need a clipPath\n\nlet clipPathId = \"chart-area\" + Math.floor(Math.random() * 100);\n\nsvg\n  .append(\"clipPath\")\n  .attr(\"id\", clipPathId)\n  .append(\"rect\")\n  .attr(\"x\", margin.left + 1)\n  .attr(\"y\", margin.top)\n  .attr(\"width\", width - margin.left)\n  .attr(\"height\", height - margin.bottom);\n\nlet area = d3\n  .area()\n  .x((d) => x(new Date(d.data[options.x])))\n  .y0((d) => y(d[0]))\n  .y1((d) => y(d[1]))\n  .curve(d3[options.curve]);\n\nsvg\n  .attr(\"viewBox\", [0, 0, width, height])\n  .style(\"background-color\", options.bgcol)\n  .append(\"g\")\n  .attr(\"clip-path\", \"url(#\" + clipPathId + \")\")\n  .append(\"g\")\n  .selectAll(\"path\")\n  .data(series)\n  .enter()\n  .append(\"path\")\n  .attr(\"fill\", ({ key }) => color(key))\n  .attr(\"d\", area)\n  .style(\"stroke\", options.stroke)\n  .style(\"stroke-width\", options.strokeWidth)\n  .append(\"title\")\n  .text(({ key }) => key);\n\n// Adding legends\n\nlet size = options.legendBoxSize;\nsvg\n  .selectAll(\"myrectangles\")\n  .data(dataColumns.reverse())\n  .enter()\n  .append(\"rect\")\n  .attr(\"x\", width - margin.right + 5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5))\n  .attr(\"width\", size)\n  .attr(\"height\", size)\n  .style(\"fill\", (d) => color(d));\n\nsvg\n  .selectAll(\"mylabels\")\n  .data(dataColumns)\n  .enter()\n  .append(\"text\")\n  .attr(\"x\", width - margin.right + size * 1.5)\n  .attr(\"y\", (d, i) => margin.top + i * (size + 5) + size / 2 + 1)\n  .style(\"fill\", (d) => color(d))\n  .text((d) => d)\n  .attr(\"text-anchor\", \"left\")\n  .style(\"alignment-baseline\", \"middle\")\n  .style(\"fill\", options.axisCol)\n  .style(\"font-size\", `${options.legendTextSize}px`);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can find list of D3 categorical color schemes <a href="https://github.com/d3/d3-scale-chromatic#categorical">here</a></p>
<p>Finally, if you hover over the chart you’ll notice a tooltip that identified the different area categories.</p>
</div>
<div id="barchartrace" class="section level1">
<h1 class="hasAnchor">
<a href="#barchartrace" class="anchor"></a><code>barChartRace()</code>
</h1>
<p>This function allows you to create an animated bar chart race. <code><a href="../reference/barChartRace.html">barChartRace()</a></code> is similar to <code><a href="../reference/barChart.html">barChart()</a></code> but takes a third variable mapped to the time dimension, with options for styling transitions.</p>
<p>Let’s make a bar chart race of population growth among various countries using a subset of the <code>gapminder</code> dataset from the <a href="https://github.com/jennybc/gapminder">{gapminder} package</a>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span><span class="er">&lt;&lt;&lt;&lt;&lt;&lt;</span> HEAD</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>gapminder_subset <span class="ot">&lt;-</span> gapminder<span class="sc">::</span>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country, year, pop) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Japan"</span>, <span class="st">"Mexico"</span>, <span class="st">"Germany"</span>, <span class="st">"Brazil"</span>, <span class="st">"Philippines"</span>, <span class="st">"Vietnam"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop =</span> pop<span class="sc">/</span><span class="fl">1e6</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="sc">==</span><span class="er">=====</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>gapminder_subset <span class="ot">&lt;-</span> gapminder<span class="sc">::</span>gapminder <span class="sc">%&gt;%</span> <span class="fu">select</span>(country, year, pop) <span class="sc">%&gt;%</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Japan"</span>, <span class="st">"Mexico"</span>, <span class="st">"Germany"</span>, <span class="st">"Brazil"</span>, <span class="st">"Mexico"</span>, <span class="st">"Philippines"</span>, <span class="st">"Vietnam"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">pop =</span> pop<span class="sc">/</span><span class="fl">1e6</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;&gt;&gt;&gt;&gt;</span> 6bab1415a132b17bda7192e7e2e63758614d5161</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>gapminder_subset <span class="sc">%&gt;%</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    year       pop     country</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  2007  91.07729 Philippines</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  1997  76.04900     Vietnam</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  1972 107.18827       Japan</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  1967  39.46391     Vietnam</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  1952  30.14432      Mexico</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  1987 142.93808      Brazil</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  1997 168.54672      Brazil</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  1962  41.12148      Mexico</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  1952  69.14595     Germany</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1957  91.56301       Japan</span></span></code></pre></div>
<p>In this example, we simply pass call <code><a href="../reference/barChartRace.html">barChartRace()</a></code> like <code><a href="../reference/barChart.html">barChart()</a></code>, but with an additional variable mapped to the time dimension specified with <code>time = year</code>:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder_subset</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/barChartRace.html">barChartRace</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"pop"</span>,
    y <span class="op">=</span> <span class="st">"country"</span>,
    time <span class="op">=</span> <span class="st">"year"</span>,
    ytitle <span class="op">=</span> <span class="st">"Country"</span>,
    xtitle <span class="op">=</span> <span class="st">"Population (in millions)"</span>,
    title <span class="op">=</span> <span class="st">"Bar chart race of country populations"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-04fbc1cc413d600ec43d" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-04fbc1cc413d600ec43d">{"x":{"data":{"year":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"pop":[56.60256,65.551171,76.03939,88.049823,100.840058,114.313951,128.962939,142.938076,155.975974,168.546719,179.914212,190.010647,69.145952,71.019069,73.739117,76.368453,78.717088,78.160773,78.335266,77.718298,80.597764,82.011073,82.350671,82.400996,86.459025,91.563009,95.831757,100.825279,107.188273,113.872473,118.454974,122.091325,124.329269,125.956499,127.065841,127.467972,30.144317,35.015548,41.121485,47.995559,55.984294,63.759976,71.640904,80.122492,88.11103,95.895146,102.479927,108.700891,22.438691,26.072194,30.325264,35.3566,40.850141,46.850962,53.456774,60.017788,67.185766,75.012988,82.995088,91.077287,26.246839,28.998543,33.79614,39.46391,44.655014,50.533506,56.142181,62.826491,69.940728,76.048996,80.908147,85.262356],"country":["Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam"]},"type":"data.frame","container":"div","options":{"x":"pop","y":"country","time":"year","ease":"Linear","frameDur":500,"transitionDur":500,"colorCategory":"Accent","sort":"descending","paddingWidth":0.1,"xFontSize":10,"yFontSize":10,"xticks":10,"xtitle":"Population (in millions)","ytitle":"Country","xtitleFontSize":16,"ytitleFontSize":14,"title":"Bar chart race of country populations","titleFontSize":22,"stroke":"black","strokeWidth":null,"font":"Verdana, Geneva, Tahoma, sans-serif","bgcol":"#CAD0D3","panelcol":"#EBEBEBFF","xgridlinecol":"white","opacity":1,"timeLabel":true,"timeLabelOpts":{"size":32,"prefix":"","suffix":"","xOffset":0.5,"yOffset":1}},"script":"var d3Script = function(d3, r2d3, data, div, width, height, options, theme, console) {\nthis.d3 = d3;\n\ndiv = d3.select(div.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/barchartrace.js */\n// set plot dimensions\nconst dims = {\n  width: width,\n  height: height,\n  margin: { t: 40, r: 30, b: 50, l: 0 },\n};\n\n// draw svg canvas\nconst svg = div\n  .append(\"svg\")\n  .datum(data)\n  .attr(\"width\", dims.width)\n  .attr(\"height\", dims.height)\n  .call((svg) => {\n    svg\n      .append(\"rect\")\n      .attr(\"width\", dims.width)\n      .attr(\"height\", dims.height)\n      .attr(\"fill\", options.bgcol);\n  });\n\n// panel\n\n//// adjust left plot margin to fit y-axis text (TODO this doesnt work)\nconst longestLabel = data\n  .map((d) => d[options.y])\n  .sort((a, b) => b.length - a.length);\nconst longestText = svg.append(\"text\").text(longestLabel[0]);\ndims.margin.l = longestText.node().getComputedTextLength() * 1.1;\nlongestText.remove();\n\n//// compute panel dims\ndims.panel = {\n  width: width - dims.margin.r - dims.margin.l,\n  height: dims.height - dims.margin.t - dims.margin.b,\n};\n\n//// draw panel\nconst panel = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${dims.margin.l}, ${dims.margin.t})`)\n  .call((g) => {\n    g.append(\"rect\")\n      .attr(\"width\", dims.panel.width)\n      .attr(\"height\", dims.panel.height)\n      .attr(\"fill\", options.panelcol);\n  });\n\n// init static elements\n\nconst title = svg\n  .append(\"text\")\n  .attr(\"x\", dims.width / 2)\n  .attr(\"y\", dims.margin.t / 1.5)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n\nconst xGridLines = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-gridlines\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`);\n\nconst layerBar = panel.append(\"g\").attr(\"class\", \"layer-bar\");\n\nlet xAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-axis\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`)\n  .style(\"font-size\", options.xFontSize)\n  .style(\"font-family\", options.font);\n\nlet yAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"y-axis\")\n  .style(\"font-size\", options.yFontSize)\n  .style(\"font-family\", options.font);\n\nconst xAxisTitle = xAxis\n  .append(\"text\")\n  .attr(\"x\", dims.panel.width * 0.5)\n  .attr(\"y\", dims.margin.b * 0.8)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.xtitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.xtitle);\n\nconst yAxisTitle = yAxis\n  .append(\"text\")\n  .attr(\"y\", -dims.margin.t * 0.3)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle);\n\nconst timeLabel = panel.append(\"g\").attr(\"class\", \"layer-timelabel\");\nconst timeLabelText = timeLabel\n  .append(\"text\")\n  .style(\"text-anchor\", \"end\")\n  .style(\"font-size\", options.timeLabelOpts.size)\n  .style(\"font-family\", options.font);\n\n// initialize scales\n\nconst xScale = d3.scaleLinear().range([0, dims.panel.width]);\n\nconst yScale = d3.scaleBand().range([dims.panel.height, 0]);\n\nconst colorScale = d3.scaleOrdinal();\n\n// animating function\nfunction update(frame, init = false) {\n  const t = svg\n    .transition()\n    .ease(d3[\"ease\" + options.ease])\n    .duration(options.transitionDur);\n\n  // setup data\n  const frameData = data.filter((d) => d[options.time] == frame);\n\n  frameData.sort(function (a, b) {\n    return d3[options.sort](a[options.x], b[options.x]);\n  });\n\n  // update scales\n  xScale.domain([0, d3.max(data, (d) => d[options.x]) * 1.05]).nice();\n  //// y and color scale updated here for now for the\n  //// future possibility of bars entering from out-of-frame\n  const yLabels = [...new Set(frameData.map((d) => d[options.y]))];\n  yScale\n    .domain(d3.reverse(yLabels))\n    .paddingInner(options.paddingWidth)\n    .paddingOuter(options.paddingWidth);\n  colorScale\n    .domain(yLabels)\n    .range(d3[\"scheme\" + options.colorCategory].slice(0, yLabels.length));\n\n  // draw bars\n\n  layerBar\n    .selectAll(\".bar\")\n    .data(frameData, (d) => d[options.y])\n    .join(\n      (enter) => {\n        enter\n          .append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"width\", (d) => xScale(d[options.x]))\n          .attr(\"height\", yScale.bandwidth())\n          .attr(\"y\", (d) => yScale(d[options.y]))\n          .attr(\"fill\", (d) => colorScale(d[options.y]))\n          .style(\"opacity\", options.opacity)\n          .style(\"stroke\", options.stroke)\n          .style(\"stroke-width\", options.strokeWidth);\n      },\n      (update) => {\n        update.call((update) =>\n          update\n            .transition(t)\n            .attr(\"width\", (d) => xScale(d[options.x]))\n            .attr(\"y\", (d) => yScale(d[options.y]))\n        );\n      }\n    );\n\n  // draw axes\n  xGridLines\n    .call(\n      d3.axisBottom(xScale).ticks(options.xticks).tickSize(-dims.panel.height)\n    )\n    .call((g) =>\n      g\n        .selectAll(\"line\")\n        .style(\"stroke\", options.xgridlinecol)\n        .style(\"stroke-width\", 2)\n    )\n    .call((g) => {\n      g.selectAll(\"path\").remove();\n      g.selectAll(\"text\").remove();\n    });\n  xAxis.call(d3.axisBottom(xScale).ticks(options.xticks));\n\n  if (init) {\n    yAxis.call(d3.axisLeft(yScale));\n  } else {\n    yAxis.call((g) => g.transition(t).call(d3.axisLeft(yScale)));\n  }\n\n  // label the frame\n  if (options.timeLabel) {\n    timeLabelText.text(\n      options.timeLabelOpts.prefix + frame + options.timeLabelOpts.suffix\n    );\n\n    const timeLabelDims = timeLabelText.node().getBBox();\n\n    timeLabel.attr(\n      \"transform\",\n      `translate(\n        ${\n          dims.panel.width - timeLabelDims.width * options.timeLabelOpts.xOffset\n        },\n        ${\n          dims.panel.height -\n          timeLabelDims.height * options.timeLabelOpts.yOffset\n        }\n      )`\n    );\n  }\n}\n\n// TODO format time and sort + expose method as parameter\nconst timeSet = [...new Set(data.map((d) => d[options.time]))];\n\nupdate(timeSet[0], (init = true));\nvar counter = 1;\nsetInterval(() => {\n  update(timeSet[counter % timeSet.length]);\n  counter++;\n}, options.frameDur + options.transitionDur);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can also stylize transitions with the <code>frameDur</code>, <code>transitionDur</code>, and <code>ease</code> arguments. For example, setting the time spent pausing on each frame to zero with <code>frameDur = 0</code> will create a smooth animation:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder_subset</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/barChartRace.html">barChartRace</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"pop"</span>,
    y <span class="op">=</span> <span class="st">"country"</span>,
    time <span class="op">=</span> <span class="st">"year"</span>,
    transitionDur <span class="op">=</span> <span class="fl">1000</span>,
    frameDur <span class="op">=</span> <span class="fl">0</span>,
    ytitle <span class="op">=</span> <span class="st">"Country"</span>,
    xtitle <span class="op">=</span> <span class="st">"Population (in millions)"</span>,
    title <span class="op">=</span> <span class="st">"Bar chart race of country populations"</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-d27ccf1f1644a3d3edd5" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-d27ccf1f1644a3d3edd5">{"x":{"data":{"year":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"pop":[56.60256,65.551171,76.03939,88.049823,100.840058,114.313951,128.962939,142.938076,155.975974,168.546719,179.914212,190.010647,69.145952,71.019069,73.739117,76.368453,78.717088,78.160773,78.335266,77.718298,80.597764,82.011073,82.350671,82.400996,86.459025,91.563009,95.831757,100.825279,107.188273,113.872473,118.454974,122.091325,124.329269,125.956499,127.065841,127.467972,30.144317,35.015548,41.121485,47.995559,55.984294,63.759976,71.640904,80.122492,88.11103,95.895146,102.479927,108.700891,22.438691,26.072194,30.325264,35.3566,40.850141,46.850962,53.456774,60.017788,67.185766,75.012988,82.995088,91.077287,26.246839,28.998543,33.79614,39.46391,44.655014,50.533506,56.142181,62.826491,69.940728,76.048996,80.908147,85.262356],"country":["Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam"]},"type":"data.frame","container":"div","options":{"x":"pop","y":"country","time":"year","ease":"Linear","frameDur":0,"transitionDur":1000,"colorCategory":"Accent","sort":"descending","paddingWidth":0.1,"xFontSize":10,"yFontSize":10,"xticks":10,"xtitle":"Population (in millions)","ytitle":"Country","xtitleFontSize":16,"ytitleFontSize":14,"title":"Bar chart race of country populations","titleFontSize":22,"stroke":"black","strokeWidth":null,"font":"Verdana, Geneva, Tahoma, sans-serif","bgcol":"#CAD0D3","panelcol":"#EBEBEBFF","xgridlinecol":"white","opacity":1,"timeLabel":true,"timeLabelOpts":{"size":32,"prefix":"","suffix":"","xOffset":0.5,"yOffset":1}},"script":"var d3Script = function(d3, r2d3, data, div, width, height, options, theme, console) {\nthis.d3 = d3;\n\ndiv = d3.select(div.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/barchartrace.js */\n// set plot dimensions\nconst dims = {\n  width: width,\n  height: height,\n  margin: { t: 40, r: 30, b: 50, l: 0 },\n};\n\n// draw svg canvas\nconst svg = div\n  .append(\"svg\")\n  .datum(data)\n  .attr(\"width\", dims.width)\n  .attr(\"height\", dims.height)\n  .call((svg) => {\n    svg\n      .append(\"rect\")\n      .attr(\"width\", dims.width)\n      .attr(\"height\", dims.height)\n      .attr(\"fill\", options.bgcol);\n  });\n\n// panel\n\n//// adjust left plot margin to fit y-axis text (TODO this doesnt work)\nconst longestLabel = data\n  .map((d) => d[options.y])\n  .sort((a, b) => b.length - a.length);\nconst longestText = svg.append(\"text\").text(longestLabel[0]);\ndims.margin.l = longestText.node().getComputedTextLength() * 1.1;\nlongestText.remove();\n\n//// compute panel dims\ndims.panel = {\n  width: width - dims.margin.r - dims.margin.l,\n  height: dims.height - dims.margin.t - dims.margin.b,\n};\n\n//// draw panel\nconst panel = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${dims.margin.l}, ${dims.margin.t})`)\n  .call((g) => {\n    g.append(\"rect\")\n      .attr(\"width\", dims.panel.width)\n      .attr(\"height\", dims.panel.height)\n      .attr(\"fill\", options.panelcol);\n  });\n\n// init static elements\n\nconst title = svg\n  .append(\"text\")\n  .attr(\"x\", dims.width / 2)\n  .attr(\"y\", dims.margin.t / 1.5)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n\nconst xGridLines = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-gridlines\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`);\n\nconst layerBar = panel.append(\"g\").attr(\"class\", \"layer-bar\");\n\nlet xAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-axis\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`)\n  .style(\"font-size\", options.xFontSize)\n  .style(\"font-family\", options.font);\n\nlet yAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"y-axis\")\n  .style(\"font-size\", options.yFontSize)\n  .style(\"font-family\", options.font);\n\nconst xAxisTitle = xAxis\n  .append(\"text\")\n  .attr(\"x\", dims.panel.width * 0.5)\n  .attr(\"y\", dims.margin.b * 0.8)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.xtitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.xtitle);\n\nconst yAxisTitle = yAxis\n  .append(\"text\")\n  .attr(\"y\", -dims.margin.t * 0.3)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle);\n\nconst timeLabel = panel.append(\"g\").attr(\"class\", \"layer-timelabel\");\nconst timeLabelText = timeLabel\n  .append(\"text\")\n  .style(\"text-anchor\", \"end\")\n  .style(\"font-size\", options.timeLabelOpts.size)\n  .style(\"font-family\", options.font);\n\n// initialize scales\n\nconst xScale = d3.scaleLinear().range([0, dims.panel.width]);\n\nconst yScale = d3.scaleBand().range([dims.panel.height, 0]);\n\nconst colorScale = d3.scaleOrdinal();\n\n// animating function\nfunction update(frame, init = false) {\n  const t = svg\n    .transition()\n    .ease(d3[\"ease\" + options.ease])\n    .duration(options.transitionDur);\n\n  // setup data\n  const frameData = data.filter((d) => d[options.time] == frame);\n\n  frameData.sort(function (a, b) {\n    return d3[options.sort](a[options.x], b[options.x]);\n  });\n\n  // update scales\n  xScale.domain([0, d3.max(data, (d) => d[options.x]) * 1.05]).nice();\n  //// y and color scale updated here for now for the\n  //// future possibility of bars entering from out-of-frame\n  const yLabels = [...new Set(frameData.map((d) => d[options.y]))];\n  yScale\n    .domain(d3.reverse(yLabels))\n    .paddingInner(options.paddingWidth)\n    .paddingOuter(options.paddingWidth);\n  colorScale\n    .domain(yLabels)\n    .range(d3[\"scheme\" + options.colorCategory].slice(0, yLabels.length));\n\n  // draw bars\n\n  layerBar\n    .selectAll(\".bar\")\n    .data(frameData, (d) => d[options.y])\n    .join(\n      (enter) => {\n        enter\n          .append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"width\", (d) => xScale(d[options.x]))\n          .attr(\"height\", yScale.bandwidth())\n          .attr(\"y\", (d) => yScale(d[options.y]))\n          .attr(\"fill\", (d) => colorScale(d[options.y]))\n          .style(\"opacity\", options.opacity)\n          .style(\"stroke\", options.stroke)\n          .style(\"stroke-width\", options.strokeWidth);\n      },\n      (update) => {\n        update.call((update) =>\n          update\n            .transition(t)\n            .attr(\"width\", (d) => xScale(d[options.x]))\n            .attr(\"y\", (d) => yScale(d[options.y]))\n        );\n      }\n    );\n\n  // draw axes\n  xGridLines\n    .call(\n      d3.axisBottom(xScale).ticks(options.xticks).tickSize(-dims.panel.height)\n    )\n    .call((g) =>\n      g\n        .selectAll(\"line\")\n        .style(\"stroke\", options.xgridlinecol)\n        .style(\"stroke-width\", 2)\n    )\n    .call((g) => {\n      g.selectAll(\"path\").remove();\n      g.selectAll(\"text\").remove();\n    });\n  xAxis.call(d3.axisBottom(xScale).ticks(options.xticks));\n\n  if (init) {\n    yAxis.call(d3.axisLeft(yScale));\n  } else {\n    yAxis.call((g) => g.transition(t).call(d3.axisLeft(yScale)));\n  }\n\n  // label the frame\n  if (options.timeLabel) {\n    timeLabelText.text(\n      options.timeLabelOpts.prefix + frame + options.timeLabelOpts.suffix\n    );\n\n    const timeLabelDims = timeLabelText.node().getBBox();\n\n    timeLabel.attr(\n      \"transform\",\n      `translate(\n        ${\n          dims.panel.width - timeLabelDims.width * options.timeLabelOpts.xOffset\n        },\n        ${\n          dims.panel.height -\n          timeLabelDims.height * options.timeLabelOpts.yOffset\n        }\n      )`\n    );\n  }\n}\n\n// TODO format time and sort + expose method as parameter\nconst timeSet = [...new Set(data.map((d) => d[options.time]))];\n\nupdate(timeSet[0], (init = true));\nvar counter = 1;\nsetInterval(() => {\n  update(timeSet[counter % timeSet.length]);\n  counter++;\n}, options.frameDur + options.transitionDur);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>As you might have noticed, the value of the column passed to the <code>time</code> argument is automatically labelled at the bottom-right corner of the plot panel. We can stylize this with a list of options passed to the <code>timeLabelOpts</code> argument (or turn it off with <code>timeLabel = FALSE</code>). We also give the bars a little bounce here with <code>ease = "BackInOut"</code> for fun.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder_subset</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/barChartRace.html">barChartRace</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="st">"pop"</span>,
    y <span class="op">=</span> <span class="st">"country"</span>,
    time <span class="op">=</span> <span class="st">"year"</span>,
    ease <span class="op">=</span> <span class="st">"BackInOut"</span>,
    ytitle <span class="op">=</span> <span class="st">"Country"</span>,
    xtitle <span class="op">=</span> <span class="st">"Population (in millions)"</span>,
    title <span class="op">=</span> <span class="st">"Bar chart race of country populations"</span>,
    timeLabelOpts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      size <span class="op">=</span> <span class="fl">40</span>,
      prefix <span class="op">=</span> <span class="st">"Year: "</span>,
      xOffset <span class="op">=</span> <span class="fl">0.2</span>
    <span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-b5092d160d6e03fb7d6b" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b5092d160d6e03fb7d6b">{"x":{"data":{"year":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007,1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"pop":[56.60256,65.551171,76.03939,88.049823,100.840058,114.313951,128.962939,142.938076,155.975974,168.546719,179.914212,190.010647,69.145952,71.019069,73.739117,76.368453,78.717088,78.160773,78.335266,77.718298,80.597764,82.011073,82.350671,82.400996,86.459025,91.563009,95.831757,100.825279,107.188273,113.872473,118.454974,122.091325,124.329269,125.956499,127.065841,127.467972,30.144317,35.015548,41.121485,47.995559,55.984294,63.759976,71.640904,80.122492,88.11103,95.895146,102.479927,108.700891,22.438691,26.072194,30.325264,35.3566,40.850141,46.850962,53.456774,60.017788,67.185766,75.012988,82.995088,91.077287,26.246839,28.998543,33.79614,39.46391,44.655014,50.533506,56.142181,62.826491,69.940728,76.048996,80.908147,85.262356],"country":["Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Brazil","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Japan","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Mexico","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam"]},"type":"data.frame","container":"div","options":{"x":"pop","y":"country","time":"year","ease":"BackInOut","frameDur":500,"transitionDur":500,"colorCategory":"Accent","sort":"descending","paddingWidth":0.1,"xFontSize":10,"yFontSize":10,"xticks":10,"xtitle":"Population (in millions)","ytitle":"Country","xtitleFontSize":16,"ytitleFontSize":14,"title":"Bar chart race of country populations","titleFontSize":22,"stroke":"black","strokeWidth":null,"font":"Verdana, Geneva, Tahoma, sans-serif","bgcol":"#CAD0D3","panelcol":"#EBEBEBFF","xgridlinecol":"white","opacity":1,"timeLabel":true,"timeLabelOpts":{"size":40,"prefix":"Year: ","suffix":"","xOffset":0.2,"yOffset":1}},"script":"var d3Script = function(d3, r2d3, data, div, width, height, options, theme, console) {\nthis.d3 = d3;\n\ndiv = d3.select(div.node());\n/* R2D3 Source File:  C:/Users/jchoe/AppData/Local/Temp/Rtmpe8pJVu/temp_libpath9a0600e61d1/ddplot/d3/scatterplot/barchartrace.js */\n// set plot dimensions\nconst dims = {\n  width: width,\n  height: height,\n  margin: { t: 40, r: 30, b: 50, l: 0 },\n};\n\n// draw svg canvas\nconst svg = div\n  .append(\"svg\")\n  .datum(data)\n  .attr(\"width\", dims.width)\n  .attr(\"height\", dims.height)\n  .call((svg) => {\n    svg\n      .append(\"rect\")\n      .attr(\"width\", dims.width)\n      .attr(\"height\", dims.height)\n      .attr(\"fill\", options.bgcol);\n  });\n\n// panel\n\n//// adjust left plot margin to fit y-axis text (TODO this doesnt work)\nconst longestLabel = data\n  .map((d) => d[options.y])\n  .sort((a, b) => b.length - a.length);\nconst longestText = svg.append(\"text\").text(longestLabel[0]);\ndims.margin.l = longestText.node().getComputedTextLength() * 1.1;\nlongestText.remove();\n\n//// compute panel dims\ndims.panel = {\n  width: width - dims.margin.r - dims.margin.l,\n  height: dims.height - dims.margin.t - dims.margin.b,\n};\n\n//// draw panel\nconst panel = svg\n  .append(\"g\")\n  .attr(\"transform\", `translate(${dims.margin.l}, ${dims.margin.t})`)\n  .call((g) => {\n    g.append(\"rect\")\n      .attr(\"width\", dims.panel.width)\n      .attr(\"height\", dims.panel.height)\n      .attr(\"fill\", options.panelcol);\n  });\n\n// init static elements\n\nconst title = svg\n  .append(\"text\")\n  .attr(\"x\", dims.width / 2)\n  .attr(\"y\", dims.margin.t / 1.5)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", options.titleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.title);\n\nconst xGridLines = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-gridlines\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`);\n\nconst layerBar = panel.append(\"g\").attr(\"class\", \"layer-bar\");\n\nlet xAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"x-axis\")\n  .attr(\"transform\", `translate(0, ${dims.panel.height})`)\n  .style(\"font-size\", options.xFontSize)\n  .style(\"font-family\", options.font);\n\nlet yAxis = panel\n  .append(\"g\")\n  .attr(\"class\", \"y-axis\")\n  .style(\"font-size\", options.yFontSize)\n  .style(\"font-family\", options.font);\n\nconst xAxisTitle = xAxis\n  .append(\"text\")\n  .attr(\"x\", dims.panel.width * 0.5)\n  .attr(\"y\", dims.margin.b * 0.8)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.xtitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.xtitle);\n\nconst yAxisTitle = yAxis\n  .append(\"text\")\n  .attr(\"y\", -dims.margin.t * 0.3)\n  .style(\"text-anchor\", \"middle\")\n  .style(\"fill\", \"black\")\n  .style(\"font-size\", options.ytitleFontSize)\n  .style(\"font-family\", options.font)\n  .text(options.ytitle);\n\nconst timeLabel = panel.append(\"g\").attr(\"class\", \"layer-timelabel\");\nconst timeLabelText = timeLabel\n  .append(\"text\")\n  .style(\"text-anchor\", \"end\")\n  .style(\"font-size\", options.timeLabelOpts.size)\n  .style(\"font-family\", options.font);\n\n// initialize scales\n\nconst xScale = d3.scaleLinear().range([0, dims.panel.width]);\n\nconst yScale = d3.scaleBand().range([dims.panel.height, 0]);\n\nconst colorScale = d3.scaleOrdinal();\n\n// animating function\nfunction update(frame, init = false) {\n  const t = svg\n    .transition()\n    .ease(d3[\"ease\" + options.ease])\n    .duration(options.transitionDur);\n\n  // setup data\n  const frameData = data.filter((d) => d[options.time] == frame);\n\n  frameData.sort(function (a, b) {\n    return d3[options.sort](a[options.x], b[options.x]);\n  });\n\n  // update scales\n  xScale.domain([0, d3.max(data, (d) => d[options.x]) * 1.05]).nice();\n  //// y and color scale updated here for now for the\n  //// future possibility of bars entering from out-of-frame\n  const yLabels = [...new Set(frameData.map((d) => d[options.y]))];\n  yScale\n    .domain(d3.reverse(yLabels))\n    .paddingInner(options.paddingWidth)\n    .paddingOuter(options.paddingWidth);\n  colorScale\n    .domain(yLabels)\n    .range(d3[\"scheme\" + options.colorCategory].slice(0, yLabels.length));\n\n  // draw bars\n\n  layerBar\n    .selectAll(\".bar\")\n    .data(frameData, (d) => d[options.y])\n    .join(\n      (enter) => {\n        enter\n          .append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"width\", (d) => xScale(d[options.x]))\n          .attr(\"height\", yScale.bandwidth())\n          .attr(\"y\", (d) => yScale(d[options.y]))\n          .attr(\"fill\", (d) => colorScale(d[options.y]))\n          .style(\"opacity\", options.opacity)\n          .style(\"stroke\", options.stroke)\n          .style(\"stroke-width\", options.strokeWidth);\n      },\n      (update) => {\n        update.call((update) =>\n          update\n            .transition(t)\n            .attr(\"width\", (d) => xScale(d[options.x]))\n            .attr(\"y\", (d) => yScale(d[options.y]))\n        );\n      }\n    );\n\n  // draw axes\n  xGridLines\n    .call(\n      d3.axisBottom(xScale).ticks(options.xticks).tickSize(-dims.panel.height)\n    )\n    .call((g) =>\n      g\n        .selectAll(\"line\")\n        .style(\"stroke\", options.xgridlinecol)\n        .style(\"stroke-width\", 2)\n    )\n    .call((g) => {\n      g.selectAll(\"path\").remove();\n      g.selectAll(\"text\").remove();\n    });\n  xAxis.call(d3.axisBottom(xScale).ticks(options.xticks));\n\n  if (init) {\n    yAxis.call(d3.axisLeft(yScale));\n  } else {\n    yAxis.call((g) => g.transition(t).call(d3.axisLeft(yScale)));\n  }\n\n  // label the frame\n  if (options.timeLabel) {\n    timeLabelText.text(\n      options.timeLabelOpts.prefix + frame + options.timeLabelOpts.suffix\n    );\n\n    const timeLabelDims = timeLabelText.node().getBBox();\n\n    timeLabel.attr(\n      \"transform\",\n      `translate(\n        ${\n          dims.panel.width - timeLabelDims.width * options.timeLabelOpts.xOffset\n        },\n        ${\n          dims.panel.height -\n          timeLabelDims.height * options.timeLabelOpts.yOffset\n        }\n      )`\n    );\n  }\n}\n\n// TODO format time and sort + expose method as parameter\nconst timeSet = [...new Set(data.map((d) => d[options.time]))];\n\nupdate(timeSet[0], (init = true));\nvar counter = 1;\nsetInterval(() => {\n  update(timeSet[counter % timeSet.length]);\n  counter++;\n}, options.frameDur + options.transitionDur);\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script>
</div>
<div id="more-to-come" class="section level1">
<h1 class="hasAnchor">
<a href="#more-to-come" class="anchor"></a>More to Come …</h1>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Mohamed El Fodil Ihaddaden.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
